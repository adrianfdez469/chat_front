(this.webpackJsonpchat_front=this.webpackJsonpchat_front||[]).push([[9],{218:function(e,t,a){"use strict";var n,o=a(233),r=a.n(o),c=a(221),i={getSocket:function(){return n||(n=r()(c.a.server))},close:function(){n.close()}};t.a=i},219:function(e,t,a){"use strict";var n=a(232),o=a.n(n),r=a(3),c=a(220),i=a(221),l=a(7),s=a(27),u=a(223),d={errConn:{es:"Error de conexi\xf3n",en:"Network error"},getTokenIdError:{es:"Su sesi\xf3n ha expirado",en:"Expired session"}};t.a=function(){var e=Object(c.a)(),t=e.openErrorNotification,a=e.openSuccessNotification,n=Object(r.useRecoilValue)(l.k),f=Object(r.useRecoilValue)(l.g),m=Object(u.a)();return{postRequest:function(e){var r=e.url,c=e.bodyParams,l=void 0===c?{}:c,u=e.doFnAfterSuccess,p=void 0===u?null:u,E=e.doFnAfterError,b=void 0===E?null:E,g=e.messageOnSuccess,h=void 0===g?null:g,S=e.messageOnError,v=void 0===S?null:S,O=function(e){return o.a.post("".concat(i.a.server).concat(r),l,{headers:{Authorization:e}}).then((function(t){return h&&a(h),p&&p(t,e),t})).catch((function(e){return e.response?v&&t(v):t(d.errConn[n]),b&&b(e),e}))};if(f)return O(f).catch((function(e){return console.log("Error al realizar la peticion con el token guardado en recoil state, asi que intentamos usando firebase"),s.a.auth().currentUser.getIdToken(!0).then((function(e){return O(e)})).catch((function(e){return console.log("Error al realizar la peticion con el token proveniente de firebase"),m(),e}))}))}}}},220:function(e,t,a){"use strict";var n=a(9),o=a(25),r=(a(0),a(3)),c=a(78);t.a=function(){var e=Object(r.useRecoilState)(c.a),t=Object(o.a)(e,2),a=t[0],i=t[1],l=Object(n.a)(Object(n.a)({},a),{},{open:!0,autoHideDuration:3e3}),s=function(e,t){i(Object(n.a)(Object(n.a)({},l),{},{severity:e,msg:t}))};return{openNotification:function(e){i(Object(n.a)(Object(n.a)({},l),e))},openSuccessNotification:function(e){s("success",e)},openErrorNotification:function(e){s("error",e)},openInfoNotification:function(e){s("info",e)},openWarningNotification:function(e){s("warning",e)}}}},221:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={server:"https://shut-app-back.herokuapp.com"}},223:function(e,t,a){"use strict";var n=a(3),o=a(7),r=a(0),c=a(218),i=a(27);t.a=function(){var e=Object(n.useSetRecoilState)(o.l),t=Object(n.useSetRecoilState)(o.o),a=Object(n.useSetRecoilState)(o.n),l=Object(n.useSetRecoilState)(o.d),s=Object(n.useSetRecoilState)(o.i),u=c.a.getSocket();return Object(r.useCallback)((function(){Object(o.f)(),t(null),l([]),s([]),u.emit("logout",{}),a(!1),e(null),i.a.auth().signOut()}),[])}},224:function(e,t,a){"use strict";var n=function(){localStorage.removeItem("denyOSNotification")};t.a={askNotificationPermission:function(e){n();var t=function(t){"permission"in Notification||(Notification.permission=t),e&&e()};"Notification"in window?!function(){try{Notification.requestPermission().then()}catch(e){return!1}return!0}()?Notification.requestPermission((function(e){t(e)})):Notification.requestPermission().then((function(e){t(e)})):console.log("This browser does not support notifications.")},permissionType:function(){return Notification.permission},denyPermission:function(){localStorage.setItem("denyOSNotification",!0)},allowedNotifications:function(){return"granted"===Notification.permission&&!localStorage.getItem("denyOSNotification")}}},234:function(e,t){},281:function(e){e.exports=JSON.parse('{"acceptInv":{"es":"Aceptar amigo","en":"Accept friend"},"errorAccepting":{"es":"Error al aceptar la solicitud","en":"Error accepting the friend request"}}')},282:function(e){e.exports=JSON.parse('{"block":{"es":"Bloquear contacto","en":"Block contact"},"onBlockError":{"es":"El contacto no se pudo bloquear","en":"Contact could not be block"}}')},307:function(e,t,a){"use strict";var n=a(1),o=a(4),r=a(0),c=(a(2),a(6)),i=a(8),l=a(229),s=r.forwardRef((function(e,t){var a=e.classes,i=e.className,s=Object(o.a)(e,["classes","className"]),u=r.useContext(l.a);return r.createElement("div",Object(n.a)({className:Object(c.a)(a.root,i,"flex-start"===u.alignItems&&a.alignItemsFlexStart),ref:t},s))}));t.a=Object(i.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(s)},308:function(e,t,a){"use strict";var n=a(1),o=a(4),r=a(0),c=(a(2),a(6)),i=a(8),l=r.forwardRef((function(e,t){var a=e.classes,i=e.className,l=Object(o.a)(e,["classes","className"]);return r.createElement("div",Object(n.a)({className:Object(c.a)(a.root,i),ref:t},l))}));l.muiName="ListItemSecondaryAction",t.a=Object(i.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(l)},354:function(e){e.exports=JSON.parse('{"REQUESTED":{"es":"Estado: PENDIENTE","en":"State: PENDING"},"ASKED":{"es":"Estado: SOLICITADO","en":"State: REQUESTED"},"DECLINED":{"es":"Estado: RECHAZADO","en":"State: DECLINED"},"BLOCKED":{"es":"Estado: BLOQUEADO","en":"State: BLOCKED"},"DELETED":{"es":"Estado: ELIMINADO","en":"State: DELETED"},"descREQUESTED":{"es":"Estado: Esperando a que acepten su solicitud de amistad","en":"State: Waiting for the acceptance of the friend request"},"descASKED":{"es":"Estado: Este usuario solicita ser su amigo","en":"State: This user wants to be your friend"},"descDECLINED":{"es":"Estado: Su solicitud de amistad ha sido rechazada","en":"State: Your friend request has been declined"},"descBLOCKED":{"es":"Estado: Usted ha sido bloqueado por este contacto","en":"State: You have been bloked by this contact"},"descDELETED":{"es":"Estado: Usted ha sido eliminado por este contacto","en":"State: You have been deleted by this contact"}}')},355:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(74)).default)(o.default.createElement("g",{fillRule:"evenodd"},o.default.createElement("path",{d:"M9 17l3-2.94c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9l-3-3zm2-5c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4M15.47 20.5L12 17l1.4-1.41 2.07 2.08 5.13-5.17 1.4 1.41z"})),"HowToReg");t.default=r},356:function(e){e.exports=JSON.parse('{"decline":{"es":"Cancelar peticion","en":"Decline request"},"errorDeclining":{"es":"Error al cancelar solicitud de amistad","en":"Error declining friend request"}}')},357:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(74)).default)(o.default.createElement("path",{d:"M22 4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h2V4zM2.17 11.12c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22L10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15z"}),"ThumbDownAlt");t.default=r},358:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(74)).default)(o.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=r},359:function(e){e.exports=JSON.parse('{"delete":{"es":"Eliminar contacto","en":"Delete contact"},"onDeleteError":{"es":"El contacto no se pudo eliminar","en":"Contact could not be removed"}}')},360:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(74)).default)(o.default.createElement("path",{d:"M12.99 9.18c0-.06.01-.12.01-.18 0-2.21-1.79-4-4-4-.06 0-.12.01-.18.01l4.17 4.17zm-6.1-3.56L4.27 3 3 4.27l2.62 2.62C5.23 7.5 5 8.22 5 9c0 2.21 1.79 4 4 4 .78 0 1.5-.23 2.11-.62L19.73 21 21 19.73l-8.62-8.62-5.49-5.49zM9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"}),"VoiceOverOff");t.default=r},362:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(74)).default)(o.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=r},363:function(e){e.exports=JSON.parse('{"errorLoadingFriends":{"es":"Error al cargar contactos","en":"Error while loading contacts"},"errorLoadingFriendsData":{"es":"Error al cargar datos de contactos","en":"Error while loading contacts data"},"delete":{"es":"Eliminar","en":"Delete"},"beta":{"es":"SHUT-APP V2.2.0 Beta es una aplicaci\xf3n web de chat realizada sin ning\xfan \xe1nimo de lucro. La informaci\xf3n ingresada en esta no ser\xe1 divulgada bajo ning\xfan concepto.","en":"SHUT-APP V2.2.0 Beta is a non-profit chat web application. The information entered will not be disclosed under any circumstances."},"goMakeFriends":{"es":"Agrega a tus amigos o comparte la aplicacion con ellos si no conocen sobre esta.","en":"Add your friends o share the application with them if they don\'t know about it."}}')},434:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(25),c=a(10),i=a(3),l=a(7),s=a(67),u=a(75),d=a(219),f=a(224),m=a(9),p=a(424),E=a(210),b=a(422),g=a(206),h=a(288),S=a(289),v=a(427),O=a(307),k=a(217),j=a(428),I=a(308),y=a(209),C=a(361),N=a(391),R=a(442),x=a(59),D=a(57),A=a(60),w=a(58),z=a(8),T=a(287),M=a.n(T),P=a(362),F=a.n(P),L=a(354),q=a(430),V=a(431),U=a(355),_=a.n(U),B=a(281),J=function(e){var t=e.idioma,a=e.onClick;return o.a.createElement(q.a,{onClick:a},o.a.createElement(V.a,null,o.a.createElement(_.a,{fontSize:"small",color:"primary"})),o.a.createElement(j.a,{primary:B.acceptInv[t]}))},H=a(218),K=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(l.k),r=Object(i.useRecoilValue)(l.l),c=Object(d.a)().postRequest,s=Object(i.useSetRecoilState)(u.d);return o.a.createElement(J,{idioma:n,onClick:function(){t(),c({url:"/users/acceptFriendRequest",bodyParams:{acceptedUserId:a.contactId},doFnAfterSuccess:function(e,t){s({action:"update",payload:{friend:Object(m.a)(Object(m.a)({},e.data.friend),{},{socketId:a.socketId})}}),H.a.getSocket().emit("accept friendship",{accepterId:r.userId,socketIdRequester:a.socketId,token:t})},messageOnError:B.errorAccepting[n]})}})},W=function(e){return o.a.createElement(K,e)},Y=a(356),Q=a(357),G=a.n(Q),Z=function(e){var t=e.idioma,a=e.text,n=e.onClick;return o.a.createElement(q.a,{onClick:n},o.a.createElement(V.a,null,o.a.createElement(G.a,{fontSize:"small",color:"error"})),o.a.createElement(j.a,{primary:a.decline[t]}))},$=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(l.k),r=Object(i.useSetRecoilState)(u.d),c=Object(i.useRecoilValue)(l.l),s=Object(d.a)().postRequest;return o.a.createElement(Z,{idioma:n,onClick:function(){t(),s({url:"/users/declineFriendRequest",bodyParams:{declinedUserId:a.contactId},doFnAfterSuccess:function(e,t){200===e.status&&(r({action:"delete",payload:{friendId:a.contactId}}),H.a.getSocket().emit("decline friendship",{declinerId:c.userId,declinedId:a.contactId,socketIdDeclined:a.socketId,token:t}))},messageOnError:Y.errorDeclining[n]})},text:Y})},X=function(e){return o.a.createElement($,e)},ee=a(358),te=a.n(ee),ae=function(e){var t=e.idioma,a=e.onClick,n=e.text;return o.a.createElement(q.a,{onClick:a},o.a.createElement(V.a,null,o.a.createElement(te.a,{fontSize:"small",color:"error"})),o.a.createElement(j.a,{primary:n.delete[t]}))},ne=a(359),oe=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(l.k),r=Object(i.useRecoilValue)(l.l),c=Object(d.a)().postRequest,s=Object(i.useSetRecoilState)(u.d);return o.a.createElement(ae,{idioma:n,text:ne,onClick:function(){t(),c({url:"/users/deleteContact",bodyParams:{deletedUserId:a.contactId},messageOnError:ne.onDeleteError[n],doFnAfterSuccess:function(e,t){200===e.status&&(s({action:"delete",payload:{friendId:a.contactId}}),1===a.friendShipStatus&&H.a.getSocket().emit("delete contact",{deleterId:r.userId,socketIdDeleted:a.socketId,token:t}))}})}})},re=function(e){return o.a.createElement(oe,e)},ce=a(360),ie=a.n(ce),le=a(282),se=function(e){var t=e.idioma,a=e.onClick;return o.a.createElement(q.a,{onClick:a},o.a.createElement(V.a,null,o.a.createElement(ie.a,{fontSize:"small",color:"error"})),o.a.createElement(j.a,{primary:le.block[t]}))},ue=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(l.k),r=Object(i.useRecoilValue)(l.l),c=Object(d.a)().postRequest,s=Object(i.useSetRecoilState)(u.d);return o.a.createElement(se,{idioma:n,onClick:function(){t(),c({url:"/users/blockUser",bodyParams:{blokedUserId:a.contactId},messageOnError:le.onBlockError[n],doFnAfterSuccess:function(e,t){200===e.status&&(s({action:"delete",payload:{friendId:a.contactId}}),H.a.getSocket().emit("block contact",{blokerId:r.userId,socketIdBloked:a.socketId,token:t}))}})}})},de=function(e){return o.a.createElement(ue,e)},fe=function(e){var t=e.handleClose,a=e.contact,n=function(){t()};switch(a.friendShipStatus){case 1:return o.a.createElement(o.a.Fragment,null,o.a.createElement(re,{preAction:n,contact:a}),o.a.createElement(de,{preAction:n,contact:a}));case 2:return o.a.createElement(o.a.Fragment,null,o.a.createElement(X,{preAction:n,contact:a}),o.a.createElement(de,{preAction:n,contact:a}));case 3:return o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{preAction:n,contact:a}),o.a.createElement(X,{preAction:n,contact:a}),o.a.createElement(de,{preAction:n,contact:a}));case 4:return o.a.createElement(o.a.Fragment,null,o.a.createElement(re,{preAction:n,contact:a}),o.a.createElement(de,{preAction:n,contact:a}));case 5:case 6:return o.a.createElement(re,{preAction:n,contact:a});default:return null}},me=Object(g.a)((function(e){return{infoIcon:{marginRight:"-12px",overflow:"visible",textAlign:"center",flex:"0 0 auto",color:"rgba(0, 0, 0, 0.54)",padding:"12px",fontSize:"1.5rem",transition:"background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",borderRadius:"50%",border:0,cursor:"pointer",margin:0,display:"inline-flex",outline:0,position:"relative",alignItems:"center",userSelect:"none",verticalAlign:"middle",justifyContent:"center",textDecoration:"none"},listItemText:{paddingRight:e.spacing(10)},primaryText:{color:e.palette.text.primary},secondaryText:{color:e.palette.text.secondary},avatarMan:{color:e.palette.getContrastText(x.a[400]),backgroundColor:x.a[400]},avatarWoman:{color:e.palette.getContrastText(D.a[300]),backgroundColor:D.a[300]}}})),pe=Object(z.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px white","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(C.a),Ee=Object(z.a)((function(e){return{badge:{backgroundColor:e.palette.grey[500],color:e.palette.grey[500],boxShadow:"0 0 0 2px white","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(C.a),be=function(e){return e.contact.socketId&&1===e.contact.friendShipStatus?o.a.createElement(pe,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},e.children):o.a.createElement(Ee,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},e.children)},ge=Object(z.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return o.a.createElement(N.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),he=Object(g.a)((function(e){return{arrow:{color:A.a[500]},tooltip:{backgroundColor:A.a[500]}}})),Se=Object(g.a)((function(e){return{arrow:{color:w.a[500]},tooltip:{backgroundColor:w.a[500]}}})),ve=function(e){var t=Se(),a=he();return o.a.createElement(R.a,Object.assign({arrow:!0,classes:"red"===e.color?t:a},e))},Oe=o.a.memo((function(e){var t=e.idioma,a=e.contact,n=e.handleMenu,r=e.handleClose,c=e.anchorEl,i=e.openChat,l=a.lastMsg?a.lastMsg:"",s="es"===t?{locale:S.a}:{},u=a.datetime?Object(h.a)(new Date(a.datetime),new Date,s):"",d=me(),f=a.avatarUrl?a.avatarUrl:null,m="M"===a.gender?"avatarMan":"avatarWoman";return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{button:!0,onClick:i},o.a.createElement(O.a,null,o.a.createElement(be,{contact:a},a.unread&&a.unread>0?o.a.createElement(C.a,{color:"secondary",badgeContent:a.unread},o.a.createElement(k.a,{src:f,className:a.gender&&d[m]})):o.a.createElement(k.a,{src:f,className:a.gender&&d[m]}))),o.a.createElement(j.a,{primary:a.nickname,secondary:a.friendShipStatus>1?L[a.friendShipStatusCode][t]:"".concat(l.slice(0,55),"... ").concat(u),secondaryTypographyProps:a.friendShipStatus>3?{style:{color:"".concat(w.a[500])}}:a.friendShipStatus<4&&a.friendShipStatus>1?{style:{color:"".concat(A.a[500])}}:{},className:d.listItemText,classes:{primary:d.primaryText,secondary:d.secondaryText}}),a.friendShipStatus>1?o.a.createElement(ve,{title:L["desc".concat(a.friendShipStatusCode)][t],color:a.friendShipStatus>3?"red":"geen"},o.a.createElement("div",{className:d.infoIcon},o.a.createElement(F.a,{id:"idIconInfoFriendStatus",fontSize:"small",style:{color:a.friendShipStatus>3?w.a[500]:A.a[500]}}))):null,o.a.createElement(I.a,null,o.a.createElement(y.a,{edge:"end","aria-label":"delete",onClick:n},o.a.createElement(M.a,{id:"idIconFriendActions",fontSize:"default"})),o.a.createElement(ge,{id:"customized-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:r},o.a.createElement(fe,{handleClose:r,contact:a})))),o.a.createElement(b.a,{variant:"inset",component:"li"}))})),ke=a(27),je=function(e){var t=e.contact,a=Object(n.useState)(null),c=Object(r.a)(a,2),s=c[0],d=c[1],f=Object(i.useRecoilValue)(l.k),m=Object(i.useRecoilValue)(l.l),p=Object(i.useSetRecoilState)(l.a),E=Object(i.useSetRecoilState)(u.d),b=Object(n.useCallback)((function(){d(null)}),[]);return o.a.createElement(Oe,{handleMenu:function(e){d(e.currentTarget)},handleClose:b,contact:t,anchorEl:s,idioma:f,openChat:function(){p(t.contactId),E({action:"reset_cant_no_leidos",payload:{contactId:t.contactId}});var e=H.a.getSocket();ke.a.auth().currentUser.getIdToken(!0).then((function(a){e.emit("read messages",{userId:m.userId,contactId:t.contactId,notifyTo:t.socketId,token:a})})).catch((function(e){return console.log(e)}))}})},Ie=function(e){return o.a.createElement(je,e)},ye=Object(g.a)((function(e){return{scroll:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflowY:"auto",height:"calc(100% - ".concat(e.spacing(8),"px)")},offsetDown:Object(m.a)(Object(m.a)({},e.mixins.toolbar),{},{bottom:0,position:"relative"})}})),Ce=function(e){var t=e.idioma,a=e.text,n=e.contacts,r=ye();return o.a.createElement("div",{className:r.scroll},o.a.createElement(p.a,{id:"lista"},n.length>0?n.map((function(e){return o.a.createElement(Ie,{contact:e,key:e.contactId})})):o.a.createElement("div",{style:{margin:"2em"}},o.a.createElement(b.a,null),o.a.createElement(E.a,{variant:"h5",align:"justify",color:"textPrimary"},a.goMakeFriends[t]),o.a.createElement(b.a,null),o.a.createElement(E.a,{variant:"subtitle1",align:"justify",color:"textPrimary",style:{marginTop:"1em"}},a.beta[t]))),o.a.createElement("div",{className:r.offsetDown}),o.a.createElement("div",{className:r.offsetDown}))},Ne=a(363),Re=function(e){var t=Object(i.useRecoilValue)(l.e),a=Object(i.useSetRecoilState)(l.n),m=Object(i.useRecoilState)(l.l),p=Object(r.a)(m,2),E=p[0],b=p[1],g=Object(i.useSetRecoilState)(l.o),h=Object(i.useSetRecoilState)(s.b),S=Object(d.a)().postRequest,v=Object(i.useRecoilState)(u.d),O=Object(r.a)(v,2),k=O[0],j=O[1],I=Object(i.useRecoilState)(l.k),y=Object(r.a)(I,2),C=y[0],N=y[1];return Object(n.useEffect)((function(){0===k.length&&null!==E&&function(){var e=S({url:"/users/getUserData",bodyParams:{language:C}}),t=S({url:"/users/searchFirends"}),n=S({url:"/users/getContactData"});Promise.all([e,t,n]).then((function(e){var t=Object(r.a)(e,3),n=t[0],o=t[1],c=t[2];if(200===o.status&&(j({action:"initialize",payload:{friends:o.data.friends}}),a(!0)),200===c.status&&j({action:"set_message_info",payload:{dataObj:c.data.contactsData}}),200===n.status||201===n.status){var i=n.data.user,l=i._id,s=i.nickname,u=i.firstName,d=i.lastName,m=i.email,p=i.gender,E=i.language,S=i.avatarUrl;b({userId:l,nickname:s,firstName:u,lastName:d,email:m,gender:p}),N(E),g(S)}201===n.status&&f.a.askNotificationPermission((function(){return h(!0)}))})).catch((function(e){}))}()}),[]),null!==E?o.a.createElement(o.a.Fragment,null,o.a.createElement(Ce,{idioma:C,contacts:k,text:Ne,isDark:t})):o.a.createElement(c.a,{to:"/chat_front"})};t.default=function(e){return o.a.createElement(Re,null)}}}]);
//# sourceMappingURL=9.e5acc2d0.chunk.js.map