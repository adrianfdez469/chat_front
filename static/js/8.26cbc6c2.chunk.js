/*! For license information please see 8.26cbc6c2.chunk.js.LICENSE.txt */
(this.webpackJsonpchat_front=this.webpackJsonpchat_front||[]).push([[8],{218:function(e,t,a){"use strict";var n,i=a(233),r=a.n(i),o=a(221),s={getSocket:function(){return n||(n=r()(o.a.server))},close:function(){n.close()}};t.a=s},219:function(e,t,a){"use strict";var n=a(232),i=a.n(n),r=a(3),o=a(220),s=a(221),l=a(7),c=a(27),d=a(223),h={errConn:{es:"Error de conexi\xf3n",en:"Network error"},getTokenIdError:{es:"Su sesi\xf3n ha expirado",en:"Expired session"}};t.a=function(){var e=Object(o.a)(),t=e.openErrorNotification,a=e.openSuccessNotification,n=Object(r.useRecoilValue)(l.k),u=Object(r.useRecoilValue)(l.g),f=Object(d.a)();return{postRequest:function(e){var r=e.url,o=e.bodyParams,l=void 0===o?{}:o,d=e.doFnAfterSuccess,p=void 0===d?null:d,g=e.doFnAfterError,m=void 0===g?null:g,v=e.messageOnSuccess,b=void 0===v?null:v,y=e.messageOnError,C=void 0===y?null:y,S=function(e){return i.a.post("".concat(s.a.server).concat(r),l,{headers:{Authorization:e}}).then((function(t){return b&&a(b),p&&p(t,e),t})).catch((function(e){return e.response?C&&t(C):t(h.errConn[n]),m&&m(e),e}))};if(u)return S(u).catch((function(e){return console.log("Error al realizar la peticion con el token guardado en recoil state, asi que intentamos usando firebase"),c.a.auth().currentUser.getIdToken(!0).then((function(e){return S(e)})).catch((function(e){return console.log("Error al realizar la peticion con el token proveniente de firebase"),f(),e}))}))}}}},220:function(e,t,a){"use strict";var n=a(9),i=a(25),r=(a(0),a(3)),o=a(78);t.a=function(){var e=Object(r.useRecoilState)(o.a),t=Object(i.a)(e,2),a=t[0],s=t[1],l=Object(n.a)(Object(n.a)({},a),{},{open:!0,autoHideDuration:3e3}),c=function(e,t){s(Object(n.a)(Object(n.a)({},l),{},{severity:e,msg:t}))};return{openNotification:function(e){s(Object(n.a)(Object(n.a)({},l),e))},openSuccessNotification:function(e){c("success",e)},openErrorNotification:function(e){c("error",e)},openInfoNotification:function(e){c("info",e)},openWarningNotification:function(e){c("warning",e)}}}},221:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={server:"https://shut-app-pro.herokuapp.com"}},223:function(e,t,a){"use strict";var n=a(3),i=a(7),r=a(0),o=a(218),s=a(27);t.a=function(){var e=Object(n.useSetRecoilState)(i.l),t=Object(n.useSetRecoilState)(i.o),a=Object(n.useSetRecoilState)(i.n),l=Object(n.useSetRecoilState)(i.d),c=Object(n.useSetRecoilState)(i.i),d=o.a.getSocket();return Object(r.useCallback)((function(){Object(i.f)(),t(null),l([]),c([]),d.emit("logout",{}),o.a.close(),a(!1),e(null),s.a.auth().signOut()}),[])}},224:function(e,t,a){"use strict";var n=function(){localStorage.removeItem("denyOSNotification")};t.a={askNotificationPermission:function(e){n();var t=function(t){"permission"in Notification||(Notification.permission=t),e&&e()};"Notification"in window?!function(){try{Notification.requestPermission().then()}catch(e){return!1}return!0}()?Notification.requestPermission((function(e){t(e)})):Notification.requestPermission().then((function(e){t(e)})):console.log("This browser does not support notifications.")},permissionType:function(){return Notification.permission},denyPermission:function(){localStorage.setItem("denyOSNotification",!0)},allowedNotifications:function(){return"granted"===Notification.permission&&!localStorage.getItem("denyOSNotification")}}},234:function(e,t){},361:function(e,t,a){"use strict";var n=a(1),i=a(4),r=a(0),o=(a(2),a(6)),s=a(8),l=a(15),c=r.forwardRef((function(e,t){var a=e.anchorOrigin,s=void 0===a?{vertical:"top",horizontal:"right"}:a,c=e.badgeContent,d=e.children,h=e.classes,u=e.className,f=e.color,p=void 0===f?"default":f,g=e.component,m=void 0===g?"span":g,v=e.invisible,b=e.max,y=void 0===b?99:b,C=e.overlap,S=void 0===C?"rectangle":C,x=e.showZero,_=void 0!==x&&x,w=e.variant,O=void 0===w?"standard":w,k=Object(i.a)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),E=v;null==v&&(0===c&&!_||null==c&&"dot"!==O)&&(E=!0);var j="";return"dot"!==O&&(j=c>y?"".concat(y,"+"):c),r.createElement(m,Object(n.a)({className:Object(o.a)(h.root,u),ref:t},k),d,r.createElement("span",{className:Object(o.a)(h.badge,h["".concat(s.horizontal).concat(Object(l.a)(s.vertical),"}")],h["anchorOrigin".concat(Object(l.a)(s.vertical)).concat(Object(l.a)(s.horizontal)).concat(Object(l.a)(S))],"default"!==p&&h["color".concat(Object(l.a)(p))],E&&h.invisible,"dot"===O&&h.dot)},j))}));t.a=Object(s.a)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(c)},371:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.default=r},372:function(e){e.exports=JSON.parse('{"title":{"es":"Cambiar contrase\xf1a","en":"Change password"},"password":{"es":"Contrase\xf1a","en":"Password"},"oldpassword":{"es":"Contrase\xf1a actual","en":"Current password"},"invalidPass":{"es":"Debe tener al menos 8 caracteres","en":"Must have at least 8 characters"},"invalidOldPass":{"es":"No puede estar vac\xeda","en":"Cant\'t be empty"},"repeatPassword":{"es":"Repita la contrase\xf1a","en":"Repeat password"},"passNotEqual":{"es":"Las contrase\xf1as no son iguales","en":"The passwords are not equal"},"changePass":{"es":"Cambiar contrase\xf1a","en":"Change password"},"passChangeOk":{"es":"La contrase\xf1a ha sido cambiada","en":"Your password has been changed"},"passChangeError":{"es":"La contrase\xf1a no se pudo cambiar","en":"The password can\'t be changed"},"passChange403Error":{"es":"Contrase\xf1a actual incorrecta","en":"Wrong current password "},"signin":{"es":"Ir a la p\xe1gina de registro","en":"Go to login page"},"connError":{"es":"Error de conexi\xf3n","en":"Network error"}}')},373:function(e,t,a){var n;window,e.exports=(n=a(0),function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=22)}([function(e,t){e.exports=n},function(e,t,a){e.exports=a(21),a(19),a(18),a(17),a(16),a(15),a(14),a(13),a(12),a(11),a(10),a(9),a(8)},function(e,t){!function(){"use strict";Konva.DD={anim:new Konva.Animation((function(){var e=this.dirty;return this.dirty=!1,e})),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(e){var t=Konva.DD,a=t.node;if(a){if(!t.isDragging){var n=a.getStage().getPointerPosition();n||(a.getStage()._setPointerPosition(e),n=a.getStage().getPointerPosition());var i=a.dragDistance();if(Math.max(Math.abs(n.x-t.startPointerPos.x),Math.abs(n.y-t.startPointerPos.y))<i)return}if(a.getStage()._setPointerPosition(e),!t.isDragging&&(t.isDragging=!0,a.fire("dragstart",{type:"dragstart",target:a,evt:e},!0),!a.isDragging()))return;a._setDragPosition(e),a.fire("dragmove",{type:"dragmove",target:a,evt:e},!0)}},_endDragBefore:function(e){var t,a=Konva.DD,n=a.node;n&&(t=n.getLayer(),a.anim.stop(),a.isDragging&&(a.isDragging=!1,a.justDragged=!0,Konva.listenClickTap=!1,e&&(e.dragEndNode=n)),delete a.node,(n.getLayer()||t||n instanceof Konva.Stage)&&(t||n).draw())},_endDragAfter:function(e){var t=(e=e||{}).dragEndNode;e&&t&&t.fire("dragend",{type:"dragend",target:t,evt:e},!0)}},Konva.Node.prototype.startDrag=function(){var e=Konva.DD,t=this.getStage(),a=this.getLayer(),n=t.getPointerPosition(),i=this.getAbsolutePosition();n&&(e.node&&e.node.stopDrag(),e.node=this,e.startPointerPos=n,e.offset.x=n.x-i.x,e.offset.y=n.y-i.y,e.anim.setLayers(a||this.getLayers()),e.anim.start(),this._setDragPosition())},Konva.Node.prototype._setDragPosition=function(e){var t=Konva.DD,a=this.getStage().getPointerPosition(),n=this.getDragBoundFunc();if(a){var i={x:a.x-t.offset.x,y:a.y-t.offset.y};void 0!==n&&(i=n.call(this,i,e)),this.setAbsolutePosition(i),this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(t.anim.dirty=!0),this._lastPos=i}},Konva.Node.prototype.stopDrag=function(){var e=Konva.DD,t={};e._endDragBefore(t),e._endDragAfter(t)},Konva.Node.prototype.setDraggable=function(e){this._setAttr("draggable",e),this._dragChange()};var e=Konva.Node.prototype.remove;Konva.Node.prototype.__originalRemove=e,Konva.Node.prototype.remove=function(){var t=Konva.DD;t.node&&t.node._id===this._id&&this.stopDrag(),e.call(this)},Konva.Node.prototype.isDragging=function(){var e=Konva.DD;return!(!e.node||e.node._id!==this._id||!e.isDragging)},Konva.Node.prototype._listenDrag=function(){var e=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.konva contentTouchstart.konva",(function(t){Konva.DD.node||e.startDrag(t)})):this.on("mousedown.konva touchstart.konva",(function(t){1!==t.evt.button&&2!==t.evt.button&&(Konva.DD.node||e.startDrag(t))}))},Konva.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage(),t=Konva.DD;e&&t.node&&t.node._id===this._id&&t.node.stopDrag()}},Konva.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.konva"),this.off("contentTouchstart.konva")):(this.off("mousedown.konva"),this.off("touchstart.konva"))},Konva.Factory.addGetterSetter(Konva.Node,"dragBoundFunc"),Konva.Factory.addGetter(Konva.Node,"draggable",!1),Konva.Factory.addOverloadedGetterSetter(Konva.Node,"draggable"),Konva.isBrowser&&(window.addEventListener("mouseup",Konva.DD._endDragBefore,!0),window.addEventListener("touchend",Konva.DD._endDragBefore,!0),window.addEventListener("mousemove",Konva.DD._drag),window.addEventListener("touchmove",Konva.DD._drag),window.addEventListener("mouseup",Konva.DD._endDragAfter,!1),window.addEventListener("touchend",Konva.DD._endDragAfter,!1))}()},function(e,t){!function(e){"use strict";var t=e.global.performance&&e.global.performance.now?function(){return e.global.performance.now()}:function(){return(new Date).getTime()},a=e.global.requestAnimationFrame||e.global.webkitRequestAnimationFrame||e.global.mozRequestAnimationFrame||e.global.oRequestAnimationFrame||e.global.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};function n(){return a.apply(e.global,arguments)}e.Animation=function(a,n){var i=e.Animation;this.func=a,this.setLayers(n),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t()}},e.Animation.prototype={setLayers:function(e){var t;return t=e?e.length>0?e:[e]:[],this.layers=t,this},getLayers:function(){return this.layers},addLayer:function(e){var t,a=this.layers,n=a.length;for(t=0;t<n;t++)if(a[t]._id===e._id)return!1;return this.layers.push(e),!0},isRunning:function(){var t,a=e.Animation.animations,n=a.length;for(t=0;t<n;t++)if(a[t].id===this.id)return!0;return!1},start:function(){var a=e.Animation;return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),a._addAnimation(this),this},stop:function(){return e.Animation._removeAnimation(this),this},_updateFrameObject:function(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},e.Animation.animations=[],e.Animation.animIdCounter=0,e.Animation.animRunning=!1,e.Animation._addAnimation=function(e){this.animations.push(e),this._handleAnimation()},e.Animation._removeAnimation=function(e){var t,a=e.id,n=this.animations,i=n.length;for(t=0;t<i;t++)if(n[t].id===a){this.animations.splice(t,1);break}},e.Animation._runFrames=function(){var e,a,n,i,r,o,s,l,c={},d=this.animations;for(i=0;i<d.length;i++)if(a=(e=d[i]).layers,n=e.func,e._updateFrameObject(t()),o=a.length,!n||!1!==n.call(e,e.frame))for(r=0;r<o;r++)void 0!==(s=a[r])._id&&(c[s._id]=s);for(l in c)c.hasOwnProperty(l)&&c[l].draw()},e.Animation._animationLoop=function(){var t=e.Animation;t.animations.length?(t._runFrames(),n(t._animationLoop)):t.animRunning=!1},e.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,n(this._animationLoop))},e.BaseLayer.prototype.batchDraw=function(){var t=this,a=e.Animation;return this.batchAnim||(this.batchAnim=new a((function(){t.batchAnim.stop()}),this)),this.batchAnim.isRunning()||this.batchAnim.start(),this},e.Stage.prototype.batchDraw=function(){return this.getChildren().each((function(e){e.batchDraw()})),this}}(Konva)},function(e,t){!function(){"use strict";Konva.Path=function(e){this.___init(e)},Konva.Path.prototype={___init:function(e){this.dataArray=[];var t=this;Konva.Shape.call(this,e),this.className="Path",this.dataArray=Konva.Path.parsePathData(this.getData()),this.pathLength=0;for(var a=0;a<this.dataArray.length;++a)this.pathLength+=this.dataArray[a].pathLength;this.on("dataChange.konva",(function(){t.dataArray=Konva.Path.parsePathData(this.getData()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength})),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.dataArray;e.beginPath();for(var a=0;a<t.length;a++){var n=t[a].command,i=t[a].points;switch(n){case"L":e.lineTo(i[0],i[1]);break;case"M":e.moveTo(i[0],i[1]);break;case"C":e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":e.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var r=i[0],o=i[1],s=i[2],l=i[3],c=i[4],d=i[5],h=i[6],u=i[7],f=s>l?s:l,p=s>l?1:s/l,g=s>l?l/s:1;e.translate(r,o),e.rotate(h),e.scale(p,g),e.arc(0,0,f,c,c+d,1-u),e.scale(1/p,1/g),e.rotate(-h),e.translate(-r,-o);break;case"z":e.closePath()}}e.fillStrokeShape(this)},getSelfRect:function(){var e=[];this.dataArray.forEach((function(t){e=e.concat(t.points)}));for(var t,a,n=e[0],i=e[0],r=e[1],o=e[1],s=0;s<e.length/2;s++)t=e[2*s],a=e[2*s+1],isNaN(t)||(n=Math.min(n,t),i=Math.max(i,t)),isNaN(a)||(r=Math.min(r,a),o=Math.max(o,a));return{x:Math.round(n),y:Math.round(r),width:Math.round(i-n),height:Math.round(o-r)}},getLength:function(){return this.pathLength},getPointAtLength:function(e){var t,a=0,n=this.dataArray.length;if(!n)return null;for(;a<n&&e>this.dataArray[a].pathLength;)e-=this.dataArray[a].pathLength,++a;if(a===n)return{x:(t=this.dataArray[a-1].points.slice(-2))[0],y:t[1]};if(e<.01)return{x:(t=this.dataArray[a].points.slice(0,2))[0],y:t[1]};var i=this.dataArray[a],r=i.points;switch(i.command){case"L":return Konva.Path.getPointOnLine(e,i.start.x,i.start.y,r[0],r[1]);case"C":return Konva.Path.getPointOnCubicBezier(e/i.pathLength,i.start.x,i.start.y,r[0],r[1],r[2],r[3],r[4],r[5]);case"Q":return Konva.Path.getPointOnQuadraticBezier(e/i.pathLength,i.start.x,i.start.y,r[0],r[1],r[2],r[3]);case"A":var o=r[0],s=r[1],l=r[2],c=r[3],d=r[4],h=r[5],u=r[6];return d+=h*e/i.pathLength,Konva.Path.getPointOnEllipticalArc(o,s,l,c,d,u)}return null}},Konva.Util.extend(Konva.Path,Konva.Shape),Konva.Path.getLineLength=function(e,t,a,n){return Math.sqrt((a-e)*(a-e)+(n-t)*(n-t))},Konva.Path.getPointOnLine=function(e,t,a,n,i,r,o){void 0===r&&(r=t),void 0===o&&(o=a);var s=(i-a)/(n-t+1e-8),l=Math.sqrt(e*e/(1+s*s));n<t&&(l*=-1);var c,d=s*l;if(n===t)c={x:r,y:o+d};else if((o-a)/(r-t+1e-8)===s)c={x:r+l,y:o+d};else{var h,u,f=this.getLineLength(t,a,n,i);if(f<1e-8)return;var p=(r-t)*(n-t)+(o-a)*(i-a);h=t+(p/=f*f)*(n-t),u=a+p*(i-a);var g=this.getLineLength(r,o,h,u),m=Math.sqrt(e*e-g*g);l=Math.sqrt(m*m/(1+s*s)),n<t&&(l*=-1),c={x:h+l,y:u+(d=s*l)}}return c},Konva.Path.getPointOnCubicBezier=function(e,t,a,n,i,r,o,s,l){function c(e){return e*e*e}function d(e){return 3*e*e*(1-e)}function h(e){return 3*e*(1-e)*(1-e)}function u(e){return(1-e)*(1-e)*(1-e)}return{x:s*c(e)+r*d(e)+n*h(e)+t*u(e),y:l*c(e)+o*d(e)+i*h(e)+a*u(e)}},Konva.Path.getPointOnQuadraticBezier=function(e,t,a,n,i,r,o){function s(e){return e*e}function l(e){return 2*e*(1-e)}function c(e){return(1-e)*(1-e)}return{x:r*s(e)+n*l(e)+t*c(e),y:o*s(e)+i*l(e)+a*c(e)}},Konva.Path.getPointOnEllipticalArc=function(e,t,a,n,i,r){var o=Math.cos(r),s=Math.sin(r),l=a*Math.cos(i),c=n*Math.sin(i);return{x:e+(l*o-c*s),y:t+(l*s+c*o)}},Konva.Path.parsePathData=function(e){if(!e)return[];var t=e,a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var n=0;n<a.length;n++)t=t.replace(new RegExp(a[n],"g"),"|"+a[n]);var i,r=t.split("|"),o=[],s=[],l=0,c=0,d=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(n=1;n<r.length;n++){var h=r[n],u=h.charAt(0);for(h=h.slice(1),s.length=0;i=d.exec(h);)s.push(i[0]);for(var f=[],p=0,g=s.length;p<g;p++){var m=parseFloat(s[p]);isNaN(m)?f.push(0):f.push(m)}for(;f.length>0&&!isNaN(f[0]);){var v,b,y,C,S,x,_,w,O,k,E=null,j=[],P=l,K=c;switch(u){case"l":l+=f.shift(),c+=f.shift(),E="L",j.push(l,c);break;case"L":l=f.shift(),c=f.shift(),j.push(l,c);break;case"m":var N=f.shift(),A=f.shift();if(l+=N,c+=A,E="M",o.length>2&&"z"===o[o.length-1].command)for(var R=o.length-2;R>=0;R--)if("M"===o[R].command){l=o[R].points[0]+N,c=o[R].points[1]+A;break}j.push(l,c),u="l";break;case"M":l=f.shift(),c=f.shift(),E="M",j.push(l,c),u="L";break;case"h":l+=f.shift(),E="L",j.push(l,c);break;case"H":l=f.shift(),E="L",j.push(l,c);break;case"v":c+=f.shift(),E="L",j.push(l,c);break;case"V":c=f.shift(),E="L",j.push(l,c);break;case"C":j.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),c=f.shift(),j.push(l,c);break;case"c":j.push(l+f.shift(),c+f.shift(),l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),E="C",j.push(l,c);break;case"S":b=l,y=c,"C"===(v=o[o.length-1]).command&&(b=l+(l-v.points[2]),y=c+(c-v.points[3])),j.push(b,y,f.shift(),f.shift()),l=f.shift(),c=f.shift(),E="C",j.push(l,c);break;case"s":b=l,y=c,"C"===(v=o[o.length-1]).command&&(b=l+(l-v.points[2]),y=c+(c-v.points[3])),j.push(b,y,l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),E="C",j.push(l,c);break;case"Q":j.push(f.shift(),f.shift()),l=f.shift(),c=f.shift(),j.push(l,c);break;case"q":j.push(l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),E="Q",j.push(l,c);break;case"T":b=l,y=c,"Q"===(v=o[o.length-1]).command&&(b=l+(l-v.points[0]),y=c+(c-v.points[1])),l=f.shift(),c=f.shift(),E="Q",j.push(b,y,l,c);break;case"t":b=l,y=c,"Q"===(v=o[o.length-1]).command&&(b=l+(l-v.points[0]),y=c+(c-v.points[1])),l+=f.shift(),c+=f.shift(),E="Q",j.push(b,y,l,c);break;case"A":C=f.shift(),S=f.shift(),x=f.shift(),_=f.shift(),w=f.shift(),O=l,k=c,l=f.shift(),c=f.shift(),E="A",j=this.convertEndpointToCenterParameterization(O,k,l,c,_,w,C,S,x);break;case"a":C=f.shift(),S=f.shift(),x=f.shift(),_=f.shift(),w=f.shift(),O=l,k=c,l+=f.shift(),c+=f.shift(),E="A",j=this.convertEndpointToCenterParameterization(O,k,l,c,_,w,C,S,x)}o.push({command:E||u,points:j,start:{x:P,y:K},pathLength:this.calcLength(P,K,E||u,j)})}"z"!==u&&"Z"!==u||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o},Konva.Path.calcLength=function(e,t,a,n){var i,r,o,s,l=Konva.Path;switch(a){case"L":return l.getLineLength(e,t,n[0],n[1]);case"C":for(i=0,r=l.getPointOnCubicBezier(0,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),s=.01;s<=1;s+=.01)o=l.getPointOnCubicBezier(s,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),i+=l.getLineLength(r.x,r.y,o.x,o.y),r=o;return i;case"Q":for(i=0,r=l.getPointOnQuadraticBezier(0,e,t,n[0],n[1],n[2],n[3]),s=.01;s<=1;s+=.01)o=l.getPointOnQuadraticBezier(s,e,t,n[0],n[1],n[2],n[3]),i+=l.getLineLength(r.x,r.y,o.x,o.y),r=o;return i;case"A":i=0;var c=n[4],d=n[5],h=n[4]+d,u=Math.PI/180;if(Math.abs(c-h)<u&&(u=Math.abs(c-h)),r=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),d<0)for(s=c-u;s>h;s-=u)o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],s,0),i+=l.getLineLength(r.x,r.y,o.x,o.y),r=o;else for(s=c+u;s<h;s+=u)o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],s,0),i+=l.getLineLength(r.x,r.y,o.x,o.y),r=o;return o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),i+l.getLineLength(r.x,r.y,o.x,o.y)}return 0},Konva.Path.convertEndpointToCenterParameterization=function(e,t,a,n,i,r,o,s,l){var c=l*(Math.PI/180),d=Math.cos(c)*(e-a)/2+Math.sin(c)*(t-n)/2,h=-1*Math.sin(c)*(e-a)/2+Math.cos(c)*(t-n)/2,u=d*d/(o*o)+h*h/(s*s);u>1&&(o*=Math.sqrt(u),s*=Math.sqrt(u));var f=Math.sqrt((o*o*(s*s)-o*o*(h*h)-s*s*(d*d))/(o*o*(h*h)+s*s*(d*d)));i===r&&(f*=-1),isNaN(f)&&(f=0);var p=f*o*h/s,g=f*-s*d/o,m=(e+a)/2+Math.cos(c)*p-Math.sin(c)*g,v=(t+n)/2+Math.sin(c)*p+Math.cos(c)*g,b=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},y=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(b(e)*b(t))},C=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y(e,t))},S=C([1,0],[(d-p)/o,(h-g)/s]),x=[(d-p)/o,(h-g)/s],_=[(-1*d-p)/o,(-1*h-g)/s],w=C(x,_);return y(x,_)<=-1&&(w=Math.PI),y(x,_)>=1&&(w=0),0===r&&w>0&&(w-=2*Math.PI),1===r&&w<0&&(w+=2*Math.PI),[m,v,o,s,S,w,c,r]},Konva.Factory.addGetterSetter(Konva.Path,"data"),Konva.Collection.mapMethods(Konva.Path)}()},function(e,t){!function(){"use strict";Konva.Rect=function(e){this.___init(e)},Konva.Rect.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.getCornerRadius(),a=this.getWidth(),n=this.getHeight();e.beginPath(),t?(t=Math.min(t,a/2,n/2),e.moveTo(t,0),e.lineTo(a-t,0),e.arc(a-t,t,t,3*Math.PI/2,0,!1),e.lineTo(a,n-t),e.arc(a-t,n-t,t,0,Math.PI/2,!1),e.lineTo(t,n),e.arc(t,n-t,t,Math.PI/2,Math.PI,!1),e.lineTo(0,t),e.arc(t,t,t,Math.PI,3*Math.PI/2,!1)):e.rect(0,0,a,n),e.closePath(),e.fillStrokeShape(this)}},Konva.Util.extend(Konva.Rect,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Rect,"cornerRadius",0,Konva.Validators.getNumberValidator()),Konva.Collection.mapMethods(Konva.Rect)}()},function(e,t){!function(e){"use strict";var t=2*Math.PI-1e-4;e.Circle=function(e){this.___init(e)},e.Circle.prototype={_centroid:!0,___init:function(t){e.Shape.call(this,t),this.className="Circle",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,t,!1),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){e.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){e.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},e.Util.extend(e.Circle,e.Shape),e.Factory.addGetterSetter(e.Circle,"radius",0,e.Validators.getNumberValidator()),e.Factory.addOverloadedGetterSetter(e.Circle,"radius"),e.Collection.mapMethods(e.Circle)}(Konva)},function(e,t){!function(){"use strict";Konva.Image=function(e){this.___init(e)},Konva.Image.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Image",this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(e){var t,a,n,i=this.getWidth(),r=this.getHeight(),o=this.getImage();o&&(t=this.getCropWidth(),a=this.getCropHeight(),n=t&&a?[o,this.getCropX(),this.getCropY(),t,a,0,0,i,r]:[o,0,0,i,r]),(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,i,r),e.closePath(),e.fillStrokeShape(this)),o&&e.drawImage.apply(e,n)},_hitFunc:function(e){var t=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,t,a),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){var e=this.getImage();return this.attrs.width||(e?e.width:0)},getHeight:function(){var e=this.getImage();return this.attrs.height||(e?e.height:0)}},Konva.Util.extend(Konva.Image,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Image,"image"),Konva.Factory.addComponentsGetterSetter(Konva.Image,"crop",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Image,"cropX",0,Konva.Validators.getNumberValidator()),Konva.Factory.addGetterSetter(Konva.Image,"cropY",0,Konva.Validators.getNumberValidator()),Konva.Factory.addGetterSetter(Konva.Image,"cropWidth",0,Konva.Validators.getNumberValidator()),Konva.Factory.addGetterSetter(Konva.Image,"cropHeight",0,Konva.Validators.getNumberValidator()),Konva.Collection.mapMethods(Konva.Image),Konva.Image.fromURL=function(e,t){var a=new Image;a.onload=function(){var e=new Konva.Image({image:a});t(e)},a.crossOrigin="Anonymous",a.src=e}}()},function(e,t){!function(){"use strict";Konva.Group=function(e){this.___init(e)},Konva.Util.addMethods(Konva.Group,{___init:function(e){this.nodeType="Group",Konva.Container.call(this,e)},_validateAdd:function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&Konva.Util.throw("You may only add groups and shapes to groups.")}}),Konva.Util.extend(Konva.Group,Konva.Container),Konva.Collection.mapMethods(Konva.Group)}()},function(e,t){!function(){"use strict";Konva.FastLayer=function(e){this.____init(e)},Konva.Util.addMethods(Konva.FastLayer,{____init:function(e){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,Konva.BaseLayer.call(this,e)},_validateAdd:function(e){"Shape"!==e.getType()&&Konva.Util.throw("You may only add shapes to a fast layer.")},_setCanvasSize:function(e,t){this.canvas.setSize(e,t)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(e){var t=this.getLayer(),a=e||t&&t.getCanvas();return this.getClearBeforeDraw()&&a.getContext().clear(),Konva.Container.prototype.drawScene.call(this,a),this},draw:function(){return this.drawScene(),this},setVisible:function(e){return Konva.Node.prototype.setVisible.call(this,e),this.getCanvas()._canvas.style.display=e?"block":"none",this}}),Konva.Util.extend(Konva.FastLayer,Konva.BaseLayer),Konva.Collection.mapMethods(Konva.FastLayer)}()},function(e,t){!function(){"use strict";var e=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],t=e.length;Konva.Layer=function(e){this.____init(e)},Konva.Util.addMethods(Konva.Layer,{____init:function(e){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,this.hitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.BaseLayer.call(this,e)},_setCanvasSize:function(e,t){this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t)},_validateAdd:function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&Konva.Util.throw("You may only add groups and shapes to a layer.")},getIntersection:function(a,n){var i,r,o,s;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var l=1,c=!1;;){for(r=0;r<t;r++){if(o=e[r],(s=(i=this._getIntersection({x:a.x+o.x*l,y:a.y+o.y*l})).shape)&&n)return s.findAncestor(n,!0);if(s)return s;if(c=!!i.antialiased,!i.antialiased)break}if(!c)return null;l+=1}},_getImageData:function(e,t){var a=this.hitCanvas.width||1,n=this.hitCanvas.height||1,i=Math.round(t)*a+Math.round(e);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,a,n)),[this._hitImageData.data[4*i+0],this._hitImageData.data[4*i+1],this._hitImageData.data[4*i+2],this._hitImageData.data[4*i+3]]},_getIntersection:function(e){var t,a,n=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,r=i[3];return 255===r?(t=Konva.Util._rgbToHex(i[0],i[1],i[2]),(a=Konva.shapes["#"+t])?{shape:a}:{antialiased:!0}):r>0?{antialiased:!0}:{}},drawScene:function(e,t){var a=this.getLayer(),n=e||a&&a.getCanvas();return this._fire("beforeDraw",{node:this}),this.getClearBeforeDraw()&&n.getContext().clear(),Konva.Container.prototype.drawScene.call(this,n,t),this._fire("draw",{node:this}),this},drawHit:function(e,t){var a=this.getLayer(),n=e||a&&a.hitCanvas;return a&&a.getClearBeforeDraw()&&a.getHitCanvas().getContext().clear(),Konva.Container.prototype.drawHit.call(this,n,t),this.imageData=null,this},clear:function(e){return Konva.BaseLayer.prototype.clear.call(this,e),this.getHitCanvas().getContext().clear(e),this.imageData=null,this},setVisible:function(e){return Konva.Node.prototype.setVisible.call(this,e),e?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this},setSize:function(e,t){return Konva.BaseLayer.prototype.setSize.call(this,e,t),this.hitCanvas.setSize(e,t),this}}),Konva.Util.extend(Konva.Layer,Konva.BaseLayer),Konva.Factory.addGetterSetter(Konva.Layer,"hitGraphEnabled",!0),Konva.Collection.mapMethods(Konva.Layer)}()},function(e,t){!function(e){"use strict";e.BaseLayer=function(e){this.___init(e)},e.Util.addMethods(e.BaseLayer,{___init:function(t){this.nodeType="Layer",e.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(e){return this.getContext().clear(e),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(t){e.Node.prototype.setZIndex.call(this,t);var a=this.getStage();return a&&(a.content.removeChild(this.getCanvas()._canvas),t<a.getChildren().length-1?a.content.insertBefore(this.getCanvas()._canvas,a.getChildren()[t+1].getCanvas()._canvas):a.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){e.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),this},moveUp:function(){if(!e.Node.prototype.moveUp.call(this))return this;var t=this.getStage();return t?(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),this):this},moveDown:function(){if(e.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var a=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,a[this.index+1].getCanvas()._canvas)}}return this},moveToBottom:function(){if(e.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var a=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,a[1].getCanvas()._canvas)}}return this},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return e.Node.prototype.remove.call(this),t&&t.parentNode&&e.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent},setSize:function(e,t){return this.canvas.setSize(e,t),this},_toKonvaCanvas:function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.getX(),t.y=void 0!==t.y?t.y:this.getY(),e.Node.prototype._toKonvaCanvas.call(this,t)},getWidth:function(){if(this.parent)return this.parent.getWidth()},setWidth:function(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){if(this.parent)return this.parent.getHeight()},setHeight:function(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},_applyTransform:function(e,t,a){var n=e.getAbsoluteTransform(a).getMatrix();t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}}),e.Util.extend(e.BaseLayer,e.Container),e.Factory.addGetterSetter(e.BaseLayer,"clearBeforeDraw",!0),e.Collection.mapMethods(e.BaseLayer)}(Konva)},function(e,t){!function(){"use strict";var e=["mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","wheel","contextmenu"],t=e.length;function a(e,t){e.content.addEventListener(t,(function(a){e["_"+t](a)}),!1)}Konva.Stage=function(e){this.___init(e)},Konva.Util.addMethods(Konva.Stage,{___init:function(e){this.nodeType="Stage",Konva.Container.call(this,e),this._id=Konva.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Konva.stages.push(this)},_validateAdd:function(e){"Layer"!==e.getType()&&Konva.Util.throw("You may only add layers to the stage.")},setContainer:function(e){if("string"==typeof e){if("."===e.charAt(0)){var t=e.slice(1);e=Konva.document.getElementsByClassName(t)[0]}else{var a;a="#"!==e.charAt(0)?e:e.slice(1),e=Konva.document.getElementById(a)}if(!e)throw"Can not find container in document with id "+a}return this._setAttr("container",e),this},shouldDrawHit:function(){return!0},draw:function(){return Konva.Node.prototype.draw.call(this),this},setHeight:function(e){return Konva.Node.prototype.setHeight.call(this,e),this._resizeDOM(),this},setWidth:function(e){return Konva.Node.prototype.setWidth.call(this,e),this._resizeDOM(),this},clear:function(){var e,t=this.children,a=t.length;for(e=0;e<a;e++)t[e].clear();return this},clone:function(e){return e||(e={}),e.container=Konva.document.createElement("div"),Konva.Container.prototype.clone.call(this,e)},destroy:function(){var e=this.content;Konva.Container.prototype.destroy.call(this),e&&Konva.Util._isInDocument(e)&&this.getContainer().removeChild(e);var t=Konva.stages.indexOf(this);return t>-1&&Konva.stages.splice(t,1),this},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},_toKonvaCanvas:function(e){var t=(e=e||{}).x||0,a=e.y||0,n=new Konva.SceneCanvas({width:e.width||this.getWidth(),height:e.height||this.getHeight(),pixelRatio:e.pixelRatio||1}),i=n.getContext()._context,r=this.children;return(t||a)&&i.translate(-1*t,-1*a),r.each((function(n){if(n.isVisible()){var r=n._toKonvaCanvas(e);i.drawImage(r._canvas,t,a,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}})),n},toImage:function(e){var t=e.callback;e.callback=function(e){Konva.Util._getImage(e,(function(e){t(e)}))},this.toDataURL(e)},getIntersection:function(e,t){var a,n,i=this.getChildren();for(a=i.length-1;a>=0;a--)if(n=i[a].getIntersection(e,t))return n;return null},_resizeDOM:function(){if(this.content){var e,t,a=this.getWidth(),n=this.getHeight(),i=this.getChildren(),r=i.length;for(this.content.style.width=a+"px",this.content.style.height=n+"px",this.bufferCanvas.setSize(a,n),this.bufferHitCanvas.setSize(a,n),e=0;e<r;e++)(t=i[e]).setSize(a,n),t.draw()}},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return Konva.Container.prototype.add.call(this,e),e._setCanvasSize(this.width(),this.height()),e.draw(),Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){if(Konva.isBrowser)for(var n=0;n<t;n++)a(this,e[n])},_mouseover:function(e){Konva.UA.mobile||(this._setPointerPosition(e),this._fire("contentMouseover",{evt:e}))},_mouseout:function(e){if(!Konva.UA.mobile){this._setPointerPosition(e);var t=this.targetShape;t&&!Konva.isDragging()&&(t._fireAndBubble("mouseout",{evt:e}),t._fireAndBubble("mouseleave",{evt:e}),this.targetShape=null),this.pointerPos=void 0,this._fire("contentMouseout",{evt:e})}},_mousemove:function(e){return Konva.UA.ieMobile?this._touchmove(e):void 0===e.movementX&&void 0===e.movementY||0!==e.movementY||0!==e.movementX?Konva.UA.mobile?null:(this._setPointerPosition(e),Konva.isDragging()||((t=this.getIntersection(this.getPointerPosition()))&&t.isListening()?Konva.isDragging()||this.targetShape&&this.targetShape._id===t._id?t._fireAndBubble("mousemove",{evt:e}):(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:e},t),this.targetShape._fireAndBubble("mouseleave",{evt:e},t)),t._fireAndBubble("mouseover",{evt:e},this.targetShape),t._fireAndBubble("mouseenter",{evt:e},this.targetShape),this.targetShape=t):(this.targetShape&&!Konva.isDragging()&&(this.targetShape._fireAndBubble("mouseout",{evt:e}),this.targetShape._fireAndBubble("mouseleave",{evt:e}),this.targetShape=null),this._fire("mousemove",{evt:e,target:this,currentTarget:this})),this._fire("contentMousemove",{evt:e})),void(e.cancelable&&e.preventDefault())):null;var t},_mousedown:function(e){if(Konva.UA.ieMobile)return this._touchstart(e);if(!Konva.UA.mobile){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,t&&t.isListening()?(this.clickStartShape=t,t._fireAndBubble("mousedown",{evt:e})):this._fire("mousedown",{evt:e,target:this,currentTarget:this}),this._fire("contentMousedown",{evt:e})}},_mouseup:function(e){if(Konva.UA.ieMobile)return this._touchend(e);if(!Konva.UA.mobile){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition()),a=this.clickStartShape,n=this.clickEndShape,i=!1,r=Konva.DD;Konva.inDblClickWindow?(i=!0,clearTimeout(this.dblTimeout)):r&&r.justDragged?r&&(r.justDragged=!1):(Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){Konva.inDblClickWindow=!1}),Konva.dblClickWindow),t&&t.isListening()?(this.clickEndShape=t,t._fireAndBubble("mouseup",{evt:e}),Konva.listenClickTap&&a&&a._id===t._id&&(t._fireAndBubble("click",{evt:e}),i&&n&&n._id===t._id&&t._fireAndBubble("dblclick",{evt:e}))):(this._fire("mouseup",{evt:e,target:this,currentTarget:this}),Konva.listenClickTap&&this._fire("click",{evt:e,target:this,currentTarget:this}),i&&this._fire("dblclick",{evt:e,target:this,currentTarget:this})),this._fire("contentMouseup",{evt:e}),Konva.listenClickTap&&(this._fire("contentClick",{evt:e}),i&&this._fire("contentDblclick",{evt:e})),Konva.listenClickTap=!1}e.cancelable&&e.preventDefault()},_contextmenu:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble("contextmenu",{evt:e}):this._fire("contextmenu",{evt:e,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:e})},_touchstart:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,t&&t.isListening()?(this.tapStartShape=t,t._fireAndBubble("touchstart",{evt:e}),t.isListening()&&t.preventDefault()&&e.cancelable&&e.preventDefault()):this._fire("touchstart",{evt:e,target:this,currentTarget:this}),this._fire("contentTouchstart",{evt:e})},_touchend:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition()),a=!1;Konva.inDblClickWindow?(a=!0,clearTimeout(this.dblTimeout)):(Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){Konva.inDblClickWindow=!1}),Konva.dblClickWindow),t&&t.isListening()?(t._fireAndBubble("touchend",{evt:e}),Konva.listenClickTap&&this.tapStartShape&&t._id===this.tapStartShape._id&&(t._fireAndBubble("tap",{evt:e}),a&&t._fireAndBubble("dbltap",{evt:e})),t.isListening()&&t.preventDefault()&&e.cancelable&&e.preventDefault()):(this._fire("touchend",{evt:e,target:this,currentTarget:this}),Konva.listenClickTap&&this._fire("tap",{evt:e,target:this,currentTarget:this}),a&&this._fire("dbltap",{evt:e,target:this,currentTarget:this})),this._fire("contentTouchend",{evt:e}),Konva.listenClickTap&&(this._fire("contentTap",{evt:e}),a&&this._fire("contentDbltap",{evt:e})),Konva.listenClickTap=!1},_touchmove:function(e){this._setPointerPosition(e);var t,a=Konva.DD;Konva.isDragging()||((t=this.getIntersection(this.getPointerPosition()))&&t.isListening()?(t._fireAndBubble("touchmove",{evt:e}),t.isListening()&&t.preventDefault()&&e.cancelable&&e.preventDefault()):this._fire("touchmove",{evt:e,target:this,currentTarget:this}),this._fire("contentTouchmove",{evt:e})),a&&Konva.isDragging()&&Konva.DD.node.preventDefault()&&e.cancelable&&e.preventDefault()},_wheel:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble("wheel",{evt:e}):this._fire("wheel",{evt:e,target:this,currentTarget:this}),this._fire("contentWheel",{evt:e})},_setPointerPosition:function(e){var t=this._getContentPosition(),a=null,n=null;if(void 0!==(e=e||window.event).touches){if(e.touches.length>0){var i=e.touches[0];a=i.clientX-t.left,n=i.clientY-t.top}}else a=e.clientX-t.left,n=e.clientY-t.top;null!==a&&null!==n&&(this.pointerPos={x:a,y:n})},_getContentPosition:function(){var e=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:e.top,left:e.left}},_buildDOM:function(){if(this.bufferCanvas=new Konva.SceneCanvas,this.bufferHitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.isBrowser){var e=this.getContainer();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=Konva.document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}},_onContent:function(e,t){var a,n,i=e.split(" "),r=i.length;for(a=0;a<r;a++)n=i[a],this.content.addEventListener(n,t,!1)},cache:function(){Konva.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Konva.Util.extend(Konva.Stage,Konva.Container),Konva.Factory.addGetter(Konva.Stage,"container"),Konva.Factory.addOverloadedGetterSetter(Konva.Stage,"container")}()},function(e,t){!function(e){"use strict";var t="hasShadow",a="shadowRGBA";function n(e){e.fill()}function i(e){e.stroke()}function r(e){e.fill()}function o(e){e.stroke()}function s(){this._clearCache(t)}function l(){this._clearCache(a)}e.Shape=function(e){this.__init(e)},e.Util.addMethods(e.Shape,{__init:function(t){this.nodeType="Shape",this._fillFunc=n,this._strokeFunc=i,this._fillFuncHit=r,this._strokeFuncHit=o;for(var a,c=e.shapes;!(a=e.Util.getRandomColor())||a in c;);this.colorKey=a,c[a]=this,e.Node.call(this,t),this.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",s),this.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",l)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(t,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},getShadowRGBA:function(){return this._getCache(a,this._getShadowRGBA)},_getShadowRGBA:function(){if(this.hasShadow()){var t=e.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.getShadowOpacity()||1)+")"}},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return this.strokeEnabled()&&!(!this.stroke()&&!this.getStrokeLinearGradientColorStops())},intersects:function(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t),t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0},destroy:function(){return e.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],this},_useBufferCanvas:function(e){return!e&&this.perfectDrawEnabled()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()||this.perfectDrawEnabled()&&this.hasShadow()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()},getSelfRect:function(){var e=this.getSize();return{x:this._centroid?Math.round(-e.width/2):0,y:this._centroid?Math.round(-e.height/2):0,width:e.width,height:e.height}},getClientRect:function(e){var t=(e=e||{}).skipTransform,a=e.relativeTo,n=this.getSelfRect(),i=this.hasStroke()&&this.strokeWidth()||0,r=n.width+i,o=n.height+i,s=!e.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,c=s?this.shadowOffsetY():0,d=r+Math.abs(l),h=o+Math.abs(c),u=s&&this.shadowBlur()||0,f=d+2*u,p=h+2*u,g=0;Math.round(i/2)!==i/2&&(g=1);var m={width:f+g,height:p+g,x:-Math.round(i/2+u)+Math.min(l,0)+n.x,y:-Math.round(i/2+u)+Math.min(c,0)+n.y};return t?m:this._transformedRect(m,a)},drawScene:function(e,t,a,n){var i,r,o=this.getLayer(),s=e||o.getCanvas(),l=s.getContext(),c=this._cache.canvas,d=this.sceneFunc(),h=this.hasShadow(),u=this.hasStroke();if(!this.isVisible()&&!a)return this;if(c)return l.save(),o._applyTransform(this,l,t),this._drawCachedSceneCanvas(l),l.restore(),this;if(!d)return this;if(l.save(),this._useBufferCanvas(a)&&!n){if((r=(i=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this),!a)if(o)o._applyTransform(this,r,t);else{var f=this.getAbsoluteTransform(t).getMatrix();l.transform(f[0],f[1],f[2],f[3],f[4],f[5])}d.call(this,r,this),r.restore();var p=i.pixelRatio;h&&!s.hitCanvas?(l.save(),l._applyShadow(this),l._applyOpacity(this),l._applyGlobalCompositeOperation(this),l.drawImage(i._canvas,0,0,i.width/p,i.height/p),l.restore()):(l._applyOpacity(this),l._applyGlobalCompositeOperation(this),l.drawImage(i._canvas,0,0,i.width/p,i.height/p))}else{if(l._applyLineJoin(this),!a)if(o)o._applyTransform(this,l,t);else{var g=this.getAbsoluteTransform(t).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5])}h&&u&&!s.hitCanvas?(l.save(),a||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),l._applyShadow(this),d.call(this,l,this),l.restore(),this.hasFill()&&this.getShadowForStrokeEnabled()&&d.call(this,l,this)):h&&!s.hitCanvas?(l.save(),a||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),l._applyShadow(this),d.call(this,l,this),l.restore()):(a||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),d.call(this,l,this))}return l.restore(),this},drawHit:function(e,t,a){var n=this.getLayer(),i=e||n.hitCanvas,r=i.getContext(),o=this.hitFunc()||this.sceneFunc(),s=this._cache.canvas,l=s&&s.hit;if(!this.shouldDrawHit(i)&&!a)return this;if(n&&n.clearHitCache(),l)return r.save(),n._applyTransform(this,r,t),this._drawCachedHitCanvas(r),r.restore(),this;if(!o)return this;if(r.save(),r._applyLineJoin(this),!a)if(n)n._applyTransform(this,r,t);else{var c=this.getAbsoluteTransform(t).getMatrix();r.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return o.call(this,r,this),r.restore(),this},drawHitFromCache:function(t){var a,n,i,r,o,s=t||0,l=this._cache.canvas,c=this._getCachedSceneCanvas(),d=l.hit,h=d.getContext(),u=d.getWidth(),f=d.getHeight();h.clear(),h.drawImage(c._canvas,0,0,u,f);try{for(i=(n=(a=h.getImageData(0,0,u,f)).data).length,r=e.Util._hexToRgb(this.colorKey),o=0;o<i;o+=4)n[o+3]>s?(n[o]=r.r,n[o+1]=r.g,n[o+2]=r.b,n[o+3]=255):n[o+3]=0;h.putImageData(a,0,0)}catch(t){e.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}}),e.Util.extend(e.Shape,e.Node),e.Factory.addGetterSetter(e.Shape,"stroke",void 0,e.Validators.getStringValidator()),e.Factory.addGetterSetter(e.Shape,"strokeWidth",2,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Shape,"strokeHitEnabled",!0,e.Validators.getBooleanValidator()),e.Factory.addGetterSetter(e.Shape,"perfectDrawEnabled",!0,e.Validators.getBooleanValidator()),e.Factory.addGetterSetter(e.Shape,"shadowForStrokeEnabled",!0,e.Validators.getBooleanValidator()),e.Factory.addGetterSetter(e.Shape,"lineJoin"),e.Factory.addGetterSetter(e.Shape,"lineCap"),e.Factory.addGetterSetter(e.Shape,"sceneFunc"),e.Factory.addGetterSetter(e.Shape,"hitFunc"),e.Factory.addGetterSetter(e.Shape,"dash"),e.Factory.addGetterSetter(e.Shape,"dashOffset",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Shape,"shadowColor",void 0,e.Validators.getStringValidator()),e.Factory.addGetterSetter(e.Shape,"shadowBlur",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Shape,"shadowOpacity",1,e.Validators.getNumberValidator()),e.Factory.addComponentsGetterSetter(e.Shape,"shadowOffset",["x","y"]),e.Factory.addGetterSetter(e.Shape,"shadowOffsetX",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Shape,"shadowOffsetY",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Shape,"fillPatternImage"),e.Factory.addGetterSetter(e.Shape,"fill",void 0,e.Validators.getStringValidator()),e.Factory.addGetterSetter(e.Shape,"fillPatternX",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Shape,"fillPatternY",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientColorStops"),e.Factory.addGetterSetter(e.Shape,"strokeLinearGradientColorStops"),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientStartRadius",0),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientEndRadius",0),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientColorStops"),e.Factory.addGetterSetter(e.Shape,"fillPatternRepeat","repeat"),e.Factory.addGetterSetter(e.Shape,"fillEnabled",!0),e.Factory.addGetterSetter(e.Shape,"strokeEnabled",!0),e.Factory.addGetterSetter(e.Shape,"shadowEnabled",!0),e.Factory.addGetterSetter(e.Shape,"dashEnabled",!0),e.Factory.addGetterSetter(e.Shape,"strokeScaleEnabled",!0),e.Factory.addGetterSetter(e.Shape,"fillPriority","color"),e.Factory.addComponentsGetterSetter(e.Shape,"fillPatternOffset",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillPatternOffsetX",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Shape,"fillPatternOffsetY",0,e.Validators.getNumberValidator()),e.Factory.addComponentsGetterSetter(e.Shape,"fillPatternScale",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillPatternScaleX",1,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Shape,"fillPatternScaleY",1,e.Validators.getNumberValidator()),e.Factory.addComponentsGetterSetter(e.Shape,"fillLinearGradientStartPoint",["x","y"]),e.Factory.addComponentsGetterSetter(e.Shape,"strokeLinearGradientStartPoint",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientStartPointX",0),e.Factory.addGetterSetter(e.Shape,"strokeLinearGradientStartPointX",0),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientStartPointY",0),e.Factory.addGetterSetter(e.Shape,"strokeLinearGradientStartPointY",0),e.Factory.addComponentsGetterSetter(e.Shape,"fillLinearGradientEndPoint",["x","y"]),e.Factory.addComponentsGetterSetter(e.Shape,"strokeLinearGradientEndPoint",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientEndPointX",0),e.Factory.addGetterSetter(e.Shape,"strokeLinearGradientEndPointX",0),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientEndPointY",0),e.Factory.addGetterSetter(e.Shape,"strokeLinearGradientEndPointY",0),e.Factory.addComponentsGetterSetter(e.Shape,"fillRadialGradientStartPoint",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientStartPointX",0),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientStartPointY",0),e.Factory.addComponentsGetterSetter(e.Shape,"fillRadialGradientEndPoint",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientEndPointX",0),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientEndPointY",0),e.Factory.addGetterSetter(e.Shape,"fillPatternRotation",0),e.Factory.backCompat(e.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),e.Collection.mapMethods(e.Shape)}(Konva)},function(e,t){!function(){"use strict";Konva.Container=function(e){this.__init(e)},Konva.Util.addMethods(Konva.Container,{__init:function(e){this.children=new Konva.Collection,Konva.Node.call(this,e)},getChildren:function(e){if(!e)return this.children;var t=new Konva.Collection;return this.children.each((function(a){e(a)&&t.push(a)})),t},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var e,t=Konva.Collection.toCollection(this.children),a=0;a<t.length;a++)delete(e=t[a]).parent,e.index=0,e.remove();return t=null,this.children=new Konva.Collection,this},destroyChildren:function(){for(var e,t=Konva.Collection.toCollection(this.children),a=0;a<t.length;a++)delete(e=t[a]).parent,e.index=0,e.destroy();return t=null,this.children=new Konva.Collection,this},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}if(e.getParent())return e.moveTo(this),this;var a=this.children;return this._validateAdd(e),e.index=a.length,e.parent=this,a.push(e),this._fire("add",{child:e}),Konva.DD&&e.isDragging()&&Konva.DD.anim.setLayers(e.getLayer()),this},destroy:function(){return this.hasChildren()&&this.destroyChildren(),Konva.Node.prototype.destroy.call(this),this},find:function(e){return this._generalFind(e,!1)},findOne:function(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0},_generalFind:function(e,t){var a=[];return"string"==typeof e?a=this._findByString(e,t):"function"==typeof e&&(a=this._findByFunction(e,t)),Konva.Collection.toCollection(a)},_findByString:function(e){var t,a,n,i,r,o,s,l=[],c=e.replace(/ /g,"").split(","),d=c.length;for(t=0;t<d;t++){if(n=c[t],!Konva.Util.isValidSelector(n)){var h='Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".\nIf you have a custom shape with such className, please change it to start with upper letter like "Triangle".\nKonva is awesome, right?';Konva.Util.warn(h)}if("#"===n.charAt(0))(r=this._getNodeById(n.slice(1)))&&l.push(r);else if("."===n.charAt(0))i=this._getNodesByName(n.slice(1)),l=l.concat(i);else for(s=(o=this.getChildren()).length,a=0;a<s;a++)l=l.concat(o[a]._get(n))}return l},_findByFunction:function(e,t){var a=[];return function n(i){if(!(t&&a.length>0)){var r=i.getChildren(),o=r.length;e(i)&&(a=a.concat(i));for(var s=0;s<o;s++)n(r[s])}}(this),a},_getNodeById:function(e){var t=Konva.ids[e];return void 0!==t&&this.isAncestorOf(t)?t:null},_getNodesByName:function(e){var t=Konva.names[e]||[];return this._getDescendants(t)},_get:function(e){for(var t=Konva.Node.prototype._get.call(this,e),a=this.getChildren(),n=a.length,i=0;i<n;i++)t=t.concat(a[i]._get(e));return t},toObject:function(){var e=Konva.Node.prototype.toObject.call(this);e.children=[];for(var t=this.getChildren(),a=t.length,n=0;n<a;n++){var i=t[n];e.children.push(i.toObject())}return e},_getDescendants:function(e){for(var t=[],a=e.length,n=0;n<a;n++){var i=e[n];this.isAncestorOf(i)&&t.push(i)}return t},isAncestorOf:function(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1},clone:function(e){var t=Konva.Node.prototype.clone.call(this,e);return this.getChildren().each((function(e){t.add(e.clone())})),t},getAllIntersections:function(e){var t=[];return this.find("Shape").each((function(a){a.isVisible()&&a.intersects(e)&&t.push(a)})),t},_setChildrenIndices:function(){this.children.each((function(e,t){e.index=t}))},drawScene:function(e,t,a){var n=this.getLayer(),i=e||n&&n.getCanvas(),r=i&&i.getContext(),o=this._cache.canvas,s=o&&o.scene;return(this.isVisible()||a)&&(!a&&s?(r.save(),n._applyTransform(this,r,t),this._drawCachedSceneCanvas(r),r.restore()):this._drawChildren(i,"drawScene",t,!1,a)),this},drawHit:function(e,t,a){var n=this.getLayer(),i=e||n&&n.hitCanvas,r=i&&i.getContext(),o=this._cache.canvas,s=o&&o.hit;return(this.shouldDrawHit(i)||a)&&(n&&n.clearHitCache(),!a&&s?(r.save(),n._applyTransform(this,r,t),this._drawCachedHitCanvas(r),r.restore()):this._drawChildren(i,"drawHit",t)),this},_drawChildren:function(e,t,a,n,i){var r,o,s=this.getLayer(),l=e&&e.getContext(),c=this.getClipWidth(),d=this.getClipHeight(),h=this.getClipFunc(),u=c&&d||h;if(u&&s){l.save();var f=this.getAbsoluteTransform(a),p=f.getMatrix();l.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.beginPath(),h?h.call(this,l,this):(r=this.getClipX(),o=this.getClipY(),l.rect(r,o,c,d)),l.clip(),p=f.copy().invert().getMatrix(),l.transform(p[0],p[1],p[2],p[3],p[4],p[5])}this.children.each((function(r){r[t](e,a,n,i)})),u&&l.restore()},shouldDrawHit:function(e){var t=this.getLayer(),a=Konva.DD&&Konva.isDragging()&&-1!==Konva.DD.anim.getLayers().indexOf(t);return e&&e.isCache||t&&t.hitGraphEnabled()&&this.isVisible()&&!a},getClientRect:function(e){var t,a,n,i,r,o=(e=e||{}).skipTransform,s=e.relativeTo,l=this;this.children.each((function(r){if(r.getVisible()){var o=r.getClientRect({relativeTo:l,skipShadow:e.skipShadow});0===o.width&&0===o.height||(void 0===t?(t=o.x,a=o.y,n=o.x+o.width,i=o.y+o.height):(t=Math.min(t,o.x),a=Math.min(a,o.y),n=Math.max(n,o.x+o.width),i=Math.max(i,o.y+o.height)))}}));for(var c=this.find("Shape"),d=!1,h=0;h<c.length;h++)if(c[h]._isVisible(this)){d=!0;break}return r=d?{x:t,y:a,width:n-t,height:i-a}:{x:0,y:0,width:0,height:0},o?r:this._transformedRect(r,s)}}),Konva.Util.extend(Konva.Container,Konva.Node),Konva.Container.prototype.get=Konva.Container.prototype.find,Konva.Factory.addComponentsGetterSetter(Konva.Container,"clip",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Container,"clipX",void 0,Konva.Validators.getNumberValidator()),Konva.Factory.addGetterSetter(Konva.Container,"clipY",void 0,Konva.Validators.getNumberValidator()),Konva.Factory.addGetterSetter(Konva.Container,"clipWidth",void 0,Konva.Validators.getNumberValidator()),Konva.Factory.addGetterSetter(Konva.Container,"clipHeight",void 0,Konva.Validators.getNumberValidator()),Konva.Factory.addGetterSetter(Konva.Container,"clipFunc"),Konva.Collection.mapMethods(Konva.Container)}()},function(e,t){!function(e){"use strict";var t="Shape",a=["id"],n=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),i=["scaleXChange.konva","scaleYChange.konva"].join(" ");e.Node=function(e){this._init(e)},e.Util.addMethods(e.Node,{_init:function(t){this._id=e.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this._isUnderCache=!1,this.setAttrs(t),this.on(n,(function(){this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")})),this.on(i,(function(){this._clearSelfAndDescendantCache("absoluteScale")})),this.on("visibleChange.konva",(function(){this._clearSelfAndDescendantCache("visible")})),this.on("listeningChange.konva",(function(){this._clearSelfAndDescendantCache("listening")})),this.on("opacityChange.konva",(function(){this._clearSelfAndDescendantCache("absoluteOpacity")}))},_clearCache:function(e){e?delete this._cache[e]:this._cache={}},_getCache:function(e,t){return void 0===this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]},_clearSelfAndDescendantCache:function(e){this._clearCache(e),this.children&&this.getChildren().each((function(t){t._clearSelfAndDescendantCache(e)}))},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(t){var a=t||{},n={};void 0!==a.x&&void 0!==a.y&&void 0!==a.width&&void 0!==a.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=a.width||n.width,r=a.height||n.height,o=a.pixelRatio,s=void 0===a.x?n.x:a.x,l=void 0===a.y?n.y:a.y,c=a.offset||0,d=a.drawBorder||!1;if(i&&r){i+=2*c,r+=2*c,s-=c,l-=c;var h=new e.SceneCanvas({pixelRatio:o,width:i,height:r}),u=new e.SceneCanvas({pixelRatio:o,width:i,height:r}),f=new e.HitCanvas({pixelRatio:1,width:i,height:r}),p=h.getContext(),g=f.getContext();return f.isCache=!0,this.clearCache(),p.save(),g.save(),p.translate(-s,-l),g.translate(-s,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this.drawScene(h,this,!0),this.drawHit(f,this,!0),this._isUnderCache=!1,p.restore(),g.restore(),d&&(p.save(),p.beginPath(),p.rect(0,0,i,r),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.canvas={scene:h,filter:u,hit:f,x:s,y:l},this}e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},getClientRect:function(){throw new Error('abstract "getClientRect" method call')},_transformedRect:function(e,t){var a,n,i,r,o=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=this.getAbsoluteTransform(t);return o.forEach((function(e){var t=s.point(e);void 0===a&&(a=i=t.x,n=r=t.y),a=Math.min(a,t.x),n=Math.min(n,t.y),i=Math.max(i,t.x),r=Math.max(r,t.y)})),{x:a,y:n,width:i-a,height:r-n}},_drawCachedSceneCanvas:function(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this),e.translate(this._cache.canvas.x,this._cache.canvas.y);var t=this._getCachedSceneCanvas(),a=t.pixelRatio;e.drawImage(t._canvas,0,0,t.width/a,t.height/a),e.restore()},_drawCachedHitCanvas:function(e){var t=this._cache.canvas.hit;e.save(),e.translate(this._cache.canvas.x,this._cache.canvas.y),e.drawImage(t._canvas,0,0),e.restore()},_getCachedSceneCanvas:function(){var t,a,n,i,r=this.filters(),o=this._cache.canvas,s=o.scene,l=o.filter,c=l.getContext();if(r){if(!this._filterUpToDate){var d=s.pixelRatio;try{for(t=r.length,c.clear(),c.drawImage(s._canvas,0,0,s.getWidth()/d,s.getHeight()/d),a=c.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<t;n++)"function"==typeof(i=r[n])?(i.call(this,a),c.putImageData(a,0,0)):e.Util.error("Filter should be type of function, but got "+typeof i+" insted. Please check correct filters")}catch(t){e.Util.error("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return l}return s},on:function(e,t){if(3===arguments.length)return this._delegate.apply(this,arguments);var a,n,i,r,o=e.split(" "),s=o.length;for(a=0;a<s;a++)i=(n=o[a].split("."))[0],r=n[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:r,handler:t});return this},off:function(e,t){var a,n,i,r,o,s=(e||"").split(" "),l=s.length;if(!e)for(n in this.eventListeners)this._off(n);for(a=0;a<l;a++)if(r=(i=s[a].split("."))[0],o=i[1],r)this.eventListeners[r]&&this._off(r,o,t);else for(n in this.eventListeners)this._off(n,o,t);return this},dispatchEvent:function(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this},addEventListener:function(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this},removeEventListener:function(e){return this.off(e),this},_delegate:function(t,a,n){var i=this;this.on(t,(function(t){for(var r=t.target.findAncestors(a,!0,i),o=0;o<r.length;o++)(t=e.Util.cloneObject(t)).currentTarget=r[o],n.call(r[o],t)}))},remove:function(){var e=this.getParent();return e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache("absoluteTransform"),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache("listening"),this._clearSelfAndDescendantCache("absoluteOpacity"),this},destroy:function(){e._removeId(this.getId());for(var t=(this.getName()||"").split(/\s/g),a=0;a<t.length;a++){var n=t[a];e._removeName(n,this._id)}return this.remove(),this},getAttr:function(t){var a="get"+e.Util._capitalize(t);return e.Util._isFunction(this[a])?this[a]():this.attrs[t]},getAncestors:function(){for(var t=this.getParent(),a=new e.Collection;t;)a.push(t),t=t.getParent();return a},getAttrs:function(){return this.attrs||{}},setAttrs:function(t){var a,n;if(!t)return this;for(a in t)"children"!==a&&(n="set"+e.Util._capitalize(a),e.Util._isFunction(this[n])?this[n](t[a]):this._setAttr(a,t[a]));return this},isListening:function(){return this._getCache("listening",this._isListening)},_isListening:function(){var e=this.getListening(),t=this.getParent();return"inherit"===e?!t||t.isListening():e},isVisible:function(){return this._getCache("visible",this._isVisible)},_isVisible:function(e){var t=this.getVisible(),a=this.getParent();return e===a&&"inherit"===t||(e===a?t:"inherit"===t?!a||a._isVisible(e):t)},shouldDrawHit:function(){var e=this.getLayer();return!e&&this.isListening()&&this.isVisible()||e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){var e,a,n,i,r=this.getDepth(),o=this,s=0;return"Stage"!==o.nodeType&&function l(c){for(e=[],a=c.length,n=0;n<a;n++)i=c[n],s++,i.nodeType!==t&&(e=e.concat(i.getChildren().toArray())),i._id===o._id&&(n=a);e.length>0&&e[0].getDepth()<=r&&l(e)}(o.getStage().getChildren()),s},getDepth:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e},setPosition:function(e){return this.setX(e.x),this.setY(e.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(t){var a=this.getAbsoluteTransform(t).getMatrix(),n=new e.Transform,i=this.offset();return n.m=a.slice(),n.translate(i.x,i.y),n.getTranslation()},setAbsolutePosition:function(e){var t,a=this._clearTransform();return this.attrs.x=a.x,this.attrs.y=a.y,delete a.x,delete a.y,(t=this.getAbsoluteTransform()).invert(),t.translate(e.x,e.y),e={x:this.attrs.x+t.getTranslation().x,y:this.attrs.y+t.getTranslation().y},this.setPosition({x:e.x,y:e.y}),this._setTransform(a),this},_setTransform:function(e){var t;for(t in e)this.attrs[t]=e[t];this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},_clearTransform:function(){var e={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"),e},move:function(e){var t=e.x,a=e.y,n=this.getX(),i=this.getY();return void 0!==t&&(n+=t),void 0!==a&&(i+=a),this.setPosition({x:n,y:i}),this},_eachAncestorReverse:function(e,t){var a,n,i=[],r=this.getParent();if(t&&t._id===this._id)e(this);else{for(i.unshift(this);r&&(!t||r._id!==t._id);)i.unshift(r),r=r.parent;for(a=i.length,n=0;n<a;n++)e(i[n])}},rotate:function(e){return this.setRotation(this.getRotation()+e),this},moveToTop:function(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},moveDown:function(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},moveToBottom:function(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},setZIndex:function(t){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),!1;var a=this.index;return this.parent.children.splice(a,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var e=this.getOpacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=this.getParent().getAbsoluteOpacity()),e},moveTo:function(e){return this.getParent()!==e&&((this.__originalRemove||this.remove).call(this),e.add(this)),this},toObject:function(){var t,a,n,i,r={},o=this.getAttrs();for(t in r.attrs={},o)a=o[t],n="function"==typeof this[t]&&this[t],delete o[t],i=n?n.call(this):null,o[t]=a,i!==a&&(r.attrs[t]=a);return r.className=this.getClassName(),e.Util._prepareToStringify(r)},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},findAncestors:function(e,t,a){var n=[];t&&this._isMatch(e)&&n.push(this);for(var i=this.parent;i;){if(i===a)return n;i._isMatch(e)&&n.push(i),i=i.parent}return n},findAncestor:function(e,t,a){return this.findAncestors(e,t,a)[0]},_isMatch:function(t){if(!t)return!1;var a,n,i=t.replace(/ /g,"").split(","),r=i.length;for(a=0;a<r;a++)if(n=i[a],e.Util.isValidSelector(n)||(e.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(0!==this._get(n).length)return!0;return!1},getLayer:function(){var e=this.getParent();return e?e.getLayer():null},getStage:function(){return this._getCache("stage",this._getStage)},_getStage:function(){var e=this.getParent();return e?e.getStage():void 0},fire:function(e,t,a){return(t=t||{}).target=t.target||this,a?this._fireAndBubble(e,t):this._fire(e,t),this},getAbsoluteTransform:function(e){return e?this._getAbsoluteTransform(e):this._getCache("absoluteTransform",this._getAbsoluteTransform)},_getAbsoluteTransform:function(t){var a=new e.Transform;return this._eachAncestorReverse((function(e){var t=e.transformsEnabled();"all"===t?a.multiply(e.getTransform()):"position"===t&&a.translate(e.getX()-e.getOffsetX(),e.getY()-e.getOffsetY())}),t),a},getAbsoluteScale:function(e){return e?this._getAbsoluteScale(e):this._getCache("absoluteScale",this._getAbsoluteScale)},_getAbsoluteScale:function(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();var a=1,n=1;return this._eachAncestorReverse((function(e){a*=e.scaleX(),n*=e.scaleY()}),e),{x:a,y:n}},getTransform:function(){return this._getCache("transform",this._getTransform)},_getTransform:function(){var t=new e.Transform,a=this.getX(),n=this.getY(),i=e.getAngle(this.getRotation()),r=this.getScaleX(),o=this.getScaleY(),s=this.getSkewX(),l=this.getSkewY(),c=this.getOffsetX(),d=this.getOffsetY();return 0===a&&0===n||t.translate(a,n),0!==i&&t.rotate(i),0===s&&0===l||t.skew(s,l),1===r&&1===o||t.scale(r,o),0===c&&0===d||t.translate(-1*c,-1*d),t},clone:function(t){var n,i,r,o,s,l=e.Util.cloneObject(this.attrs);for(var c in a)delete l[a[c]];for(n in t)l[n]=t[n];var d=new this.constructor(l);for(n in this.eventListeners)for(r=(i=this.eventListeners[n]).length,o=0;o<r;o++)(s=i[o]).name.indexOf("konva")<0&&(d.eventListeners[n]||(d.eventListeners[n]=[]),d.eventListeners[n].push(s));return d},_toKonvaCanvas:function(t){t=t||{};var a=this.getClientRect(),n=this.getStage(),i=void 0!==t.x?t.x:a.x,r=void 0!==t.y?t.y:a.y,o=t.pixelRatio||1,s=new e.SceneCanvas({width:t.width||a.width||(n?n.getWidth():0),height:t.height||a.height||(n?n.getHeight():0),pixelRatio:o}),l=s.getContext();return l.save(),(i||r)&&l.translate(-1*i,-1*r),this.drawScene(s),l.restore(),s},toCanvas:function(e){return this._toKonvaCanvas(e)._canvas},toDataURL:function(e){var t=(e=e||{}).mimeType||null,a=e.quality||null,n=this._toKonvaCanvas(e).toDataURL(t,a);return e.callback&&e.callback(n),n},toImage:function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var a=t.callback;delete t.callback,e.Util._getImage(this.toDataURL(t),(function(e){a(e)}))},setSize:function(e){return this.setWidth(e.width),this.setHeight(e.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():e.dragDistance},_get:function(e){return this.className===e||this.nodeType===e?[this]:[]},_off:function(e,t,a){var n,i,r,o=this.eventListeners[e];for(n=0;n<o.length;n++)if(i=o[n].name,r=o[n].handler,!("konva"===i&&"konva"!==t||t&&i!==t||a&&a!==r)){if(o.splice(n,1),0===o.length){delete this.eventListeners[e];break}n--}},_fireChangeEvent:function(e,t,a){this._fire(e+"Change",{oldVal:t,newVal:a})},setId:function(t){var a=this.getId();return e._removeId(a),e._addId(this,t),this._setAttr("id",t),this},setName:function(t){var a,n,i=(this.getName()||"").split(/\s/g),r=(t||"").split(/\s/g);for(n=0;n<i.length;n++)a=i[n],-1===r.indexOf(a)&&a&&e._removeName(a,this._id);for(n=0;n<r.length;n++)a=r[n],-1===i.indexOf(a)&&a&&e._addName(this,a);return this._setAttr("name",t),this},addName:function(e){if(!this.hasName(e)){var t=this.name(),a=t?t+" "+e:e;this.setName(a)}return this},hasName:function(e){return-1!==(this.name()||"").split(/\s/g).indexOf(e)},removeName:function(e){var t=(this.name()||"").split(/\s/g),a=t.indexOf(e);return-1!==a&&(t.splice(a,1),this.setName(t.join(" "))),this},setAttr:function(t,a){var n=this["set"+e.Util._capitalize(t)];return e.Util._isFunction(n)?n.call(this,a):this._setAttr(t,a),this},_setAttr:function(t,a){var n;(n=this.attrs[t])===a&&!e.Util.isObject(a)||(void 0===a||null===a?delete this.attrs[t]:this.attrs[t]=a,this._fireChangeEvent(t,n,a))},_setComponentAttr:function(e,t,a){var n;void 0!==a&&((n=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=a,this._fireChangeEvent(e,n,a))},_fireAndBubble:function(e,a,n){var i=!0;if(a&&this.nodeType===t&&(a.target=this),("mouseenter"===e&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))||"mouseleave"===e&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n)))&&(i=!1),i){this._fire(e,a);var r=("mouseenter"===e||"mouseleave"===e)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(a&&!a.cancelBubble||!a)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,a,n.parent):this._fireAndBubble.call(this.parent,e,a))}},_fire:function(e,t){var a,n=this.eventListeners[e];if((t=t||{}).currentTarget=this,t.type=e,n)for(a=0;a<n.length;a++)n[a].handler.call(this,t)},draw:function(){return this.drawScene(),this.drawHit(),this}}),e.Node.create=function(t,a){return e.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,a)},e.Node._createNode=function(t,a){var n,i,r,o=e.Node.prototype.getClassName.call(t),s=t.children;if(a&&(t.attrs.container=a),n=new e[o](t.attrs),s)for(i=s.length,r=0;r<i;r++)n.add(this._createNode(s[r]));return n},e.Factory.addOverloadedGetterSetter(e.Node,"position"),e.Factory.addGetterSetter(e.Node,"x",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Node,"y",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Node,"globalCompositeOperation","source-over",e.Validators.getStringValidator()),e.Factory.addGetterSetter(e.Node,"opacity",1,e.Validators.getNumberValidator()),e.Factory.addGetter(e.Node,"name"),e.Factory.addOverloadedGetterSetter(e.Node,"name"),e.Factory.addGetter(e.Node,"id"),e.Factory.addOverloadedGetterSetter(e.Node,"id"),e.Factory.addGetterSetter(e.Node,"rotation",0,e.Validators.getNumberValidator()),e.Factory.addComponentsGetterSetter(e.Node,"scale",["x","y"]),e.Factory.addGetterSetter(e.Node,"scaleX",1,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Node,"scaleY",1,e.Validators.getNumberValidator()),e.Factory.addComponentsGetterSetter(e.Node,"skew",["x","y"]),e.Factory.addGetterSetter(e.Node,"skewX",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Node,"skewY",0,e.Validators.getNumberValidator()),e.Factory.addComponentsGetterSetter(e.Node,"offset",["x","y"]),e.Factory.addGetterSetter(e.Node,"offsetX",0,e.Validators.getNumberValidator()),e.Factory.addGetterSetter(e.Node,"offsetY",0,e.Validators.getNumberValidator()),e.Factory.addSetter(e.Node,"dragDistance",e.Validators.getNumberValidator()),e.Factory.addOverloadedGetterSetter(e.Node,"dragDistance"),e.Factory.addSetter(e.Node,"width",e.Validators.getNumberValidator()),e.Factory.addOverloadedGetterSetter(e.Node,"width"),e.Factory.addSetter(e.Node,"height",e.Validators.getNumberValidator()),e.Factory.addOverloadedGetterSetter(e.Node,"height"),e.Factory.addGetterSetter(e.Node,"listening","inherit",(function(t){return!0===t||!1===t||"inherit"===t||e.Util.warn(t+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),t})),e.Factory.addGetterSetter(e.Node,"preventDefault",!0,e.Validators.getBooleanValidator()),e.Factory.addGetterSetter(e.Node,"filters",null,(function(e){return this._filterUpToDate=!1,e})),e.Factory.addGetterSetter(e.Node,"visible","inherit",(function(t){return!0===t||!1===t||"inherit"===t||e.Util.warn(t+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),t})),e.Factory.addGetterSetter(e.Node,"transformsEnabled","all",e.Validators.getStringValidator()),e.Factory.addOverloadedGetterSetter(e.Node,"size"),e.Factory.backCompat(e.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),e.Collection.mapMethods(e.Node)}(Konva)},function(e,t){!function(){"use strict";Konva.Factory={addGetterSetter:function(e,t,a,n,i){this.addGetter(e,t,a),this.addSetter(e,t,n,i),this.addOverloadedGetterSetter(e,t)},addGetter:function(e,t,a){var n="get"+Konva.Util._capitalize(t);e.prototype[n]=function(){var e=this.attrs[t];return void 0===e?a:e}},addSetter:function(e,t,a,n){var i="set"+Konva.Util._capitalize(t);e.prototype[i]=function(e){return a&&void 0!==e&&null!==e&&(e=a.call(this,e,t)),this._setAttr(t,e),n&&n.call(this),this}},addComponentsGetterSetter:function(e,t,a,n,i){var r,o,s=a.length,l=Konva.Util._capitalize,c="get"+l(t),d="set"+l(t);e.prototype[c]=function(){var e={};for(r=0;r<s;r++)e[o=a[r]]=this.getAttr(t+l(o));return e},e.prototype[d]=function(e){var a,r=this.attrs[t];for(a in n&&(e=n.call(this,e)),e)e.hasOwnProperty(a)&&this._setAttr(t+l(a),e[a]);return this._fireChangeEvent(t,r,e),i&&i.call(this),this},this.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter:function(e,t){var a=Konva.Util._capitalize(t),n="set"+a,i="get"+a;e.prototype[t]=function(){return arguments.length?(this[n](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter:function(e,t,a,n){Konva.Util.error("Adding deprecated "+t);var i="get"+Konva.Util._capitalize(t),r=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){Konva.Util.error(r);var e=this.attrs[t];return void 0===e?a:e},this.addSetter(e,t,n,(function(){Konva.Util.error(r)})),this.addOverloadedGetterSetter(e,t)},backCompat:function(e,t){Konva.Util.each(t,(function(t,a){var n=e.prototype[a],i="get"+Konva.Util._capitalize(t),r="set"+Konva.Util._capitalize(t);function o(){n.apply(this,arguments),Konva.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}e.prototype[t]=o,e.prototype[i]=o,e.prototype[r]=o}))},afterSetFilter:function(){this._filterUpToDate=!1}},Konva.Validators={RGBComponent:function(e){return e>255?255:e<0?0:Math.round(e)},alphaComponent:function(e){return e>1?1:e<1e-4?1e-4:e},_formatValue:function(e){return Konva.Util._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||Konva.Util._isBoolean(e)?e:Object.prototype.toString.call(e)},getNumberValidator:function(){if(Konva.isUnminified)return function(e,t){return Konva.Util._isNumber(e)||Konva.Util.warn(Konva.Validators._formatValue(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}},getNumberOrAutoValidator:function(){if(Konva.isUnminified)return function(e,t){return Konva.Util._isNumber(e)||"auto"===e||Konva.Util.warn(Konva.Validators._formatValue(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}},getStringValidator:function(){if(Konva.isUnminified)return function(e,t){return Konva.Util._isString(e)||Konva.Util.warn(Konva.Validators._formatValue(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}},getFunctionValidator:function(){if(Konva.isUnminified)return function(e,t){return Konva.Util._isFunction(e)||Konva.Util.warn(Konva.Validators._formatValue(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}},getNumberArrayValidator:function(){if(Konva.isUnminified)return function(e,t){return Konva.Util._isArray(e)?e.forEach((function(e){Konva.Util._isNumber(e)||Konva.Util.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")})):Konva.Util.warn(Konva.Validators._formatValue(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.'),e}},getBooleanValidator:function(){if(Konva.isUnminified)return function(e,t){return!0===e||!1===e||Konva.Util.warn(Konva.Validators._formatValue(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}}}()},function(e,t){!function(){"use strict";var e=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];Konva.Context=function(e){this.init(e)},Konva.Context.prototype={init:function(e){this.canvas=e,this._context=e._canvas.getContext("2d"),Konva.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(e){e.getFillEnabled()&&this._fill(e)},strokeShape:function(e){e.getStrokeEnabled()&&this._stroke(e)},fillStrokeShape:function(e){e.getFillEnabled()&&this._fill(e),e.getStrokeEnabled()&&this._stroke(e)},getTrace:function(e){var t,a,n,i,r=this.traceArr,o=r.length,s="";for(t=0;t<o;t++)(n=(a=r[t]).method)?(i=a.args,s+=n,e?s+="()":Konva.Util._isArray(i[0])?s+="(["+i.join(",")+"])":s+="("+i.join(",")+")"):(s+=a.property,e||(s+="="+a.val)),s+=";";return s},clearTrace:function(){this.traceArr=[]},_trace:function(e){var t=this.traceArr;t.push(e),t.length>=Konva.traceArrMax&&t.shift()},reset:function(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)},getCanvas:function(){return this.canvas},clear:function(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)},_applyLineCap:function(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)},_applyOpacity:function(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)},_applyLineJoin:function(e){var t=e.getLineJoin();t&&this.setAttr("lineJoin",t)},setAttr:function(e,t){this._context[e]=t},arc:function(){var e=arguments;this._context.arc(e[0],e[1],e[2],e[3],e[4],e[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var e=arguments;this._context.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])},clearRect:function(){var e=arguments;this._context.clearRect(e[0],e[1],e[2],e[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var e=arguments;return 2===e.length?this._context.createImageData(e[0],e[1]):1===e.length?this._context.createImageData(e[0]):void 0},createLinearGradient:function(){var e=arguments;return this._context.createLinearGradient(e[0],e[1],e[2],e[3])},createPattern:function(){var e=arguments;return this._context.createPattern(e[0],e[1])},createRadialGradient:function(){var e=arguments;return this._context.createRadialGradient(e[0],e[1],e[2],e[3],e[4],e[5])},drawImage:function(){var e=arguments,t=this._context;3===e.length?t.drawImage(e[0],e[1],e[2]):5===e.length?t.drawImage(e[0],e[1],e[2],e[3],e[4]):9===e.length&&t.drawImage(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},isPointInPath:function(e,t){return this._context.isPointInPath(e,t)},fill:function(){this._context.fill()},fillRect:function(e,t,a,n){this._context.fillRect(e,t,a,n)},strokeRect:function(e,t,a,n){this._context.strokeRect(e,t,a,n)},fillText:function(){var e=arguments;this._context.fillText(e[0],e[1],e[2])},measureText:function(e){return this._context.measureText(e)},getImageData:function(){var e=arguments;return this._context.getImageData(e[0],e[1],e[2],e[3])},lineTo:function(){var e=arguments;this._context.lineTo(e[0],e[1])},moveTo:function(){var e=arguments;this._context.moveTo(e[0],e[1])},rect:function(){var e=arguments;this._context.rect(e[0],e[1],e[2],e[3])},putImageData:function(){var e=arguments;this._context.putImageData(e[0],e[1],e[2])},quadraticCurveTo:function(){var e=arguments;this._context.quadraticCurveTo(e[0],e[1],e[2],e[3])},restore:function(){this._context.restore()},rotate:function(){var e=arguments;this._context.rotate(e[0])},save:function(){this._context.save()},scale:function(){var e=arguments;this._context.scale(e[0],e[1])},setLineDash:function(){var e=arguments,t=this._context;this._context.setLineDash?t.setLineDash(e[0]):"mozDash"in t?t.mozDash=e[0]:"webkitLineDash"in t&&(t.webkitLineDash=e[0])},getLineDash:function(){return this._context.getLineDash()},setTransform:function(){var e=arguments;this._context.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},stroke:function(){this._context.stroke()},strokeText:function(){var e=arguments;this._context.strokeText(e[0],e[1],e[2])},transform:function(){var e=arguments;this._context.transform(e[0],e[1],e[2],e[3],e[4],e[5])},translate:function(){var e=arguments;this._context.translate(e[0],e[1])},_enableTrace:function(){var t,a,n=this,i=e.length,r=Konva.Util._simplifyArray,o=this.setAttr,s=function(e){var t,i=n[e];n[e]=function(){return a=r(Array.prototype.slice.call(arguments,0)),t=i.apply(n,arguments),n._trace({method:e,args:a}),t}};for(t=0;t<i;t++)s(e[t]);n.setAttr=function(){o.apply(n,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}},["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation"].forEach((function(e){Object.defineProperty(Konva.Context.prototype,e,{get:function(){return this._context[e]},set:function(t){this._context[e]=t}})})),Konva.SceneContext=function(e){Konva.Context.call(this,e)},Konva.SceneContext.prototype={_fillColor:function(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)},_fillPattern:function(e){var t=e.getFillPatternX(),a=e.getFillPatternY(),n=e.getFillPatternScale(),i=Konva.getAngle(e.getFillPatternRotation()),r=e.getFillPatternOffset();(t||a)&&this.translate(t||0,a||0),i&&this.rotate(i),n&&this.scale(n.x,n.y),r&&this.translate(-1*r.x,-1*r.y),this.setAttr("fillStyle",this.createPattern(e.getFillPatternImage(),e.getFillPatternRepeat()||"repeat")),this.fill()},_fillLinearGradient:function(e){var t=e.getFillLinearGradientStartPoint(),a=e.getFillLinearGradientEndPoint(),n=e.getFillLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,a.x,a.y);if(n){for(var r=0;r<n.length;r+=2)i.addColorStop(n[r],n[r+1]);this.setAttr("fillStyle",i),e._fillFunc(this)}},_fillRadialGradient:function(e){for(var t=e.getFillRadialGradientStartPoint(),a=e.getFillRadialGradientEndPoint(),n=e.getFillRadialGradientStartRadius(),i=e.getFillRadialGradientEndRadius(),r=e.getFillRadialGradientColorStops(),o=this.createRadialGradient(t.x,t.y,n,a.x,a.y,i),s=0;s<r.length;s+=2)o.addColorStop(r[s],r[s+1]);this.setAttr("fillStyle",o),this.fill()},_fill:function(e){var t=e.fill(),a=e.getFillPriority();if(t&&"color"===a)this._fillColor(e);else{var n=e.getFillPatternImage();if(n&&"pattern"===a)this._fillPattern(e);else{var i=e.getFillLinearGradientColorStops();if(i&&"linear-gradient"===a)this._fillLinearGradient(e);else{var r=e.getFillRadialGradientColorStops();r&&"radial-gradient"===a?this._fillRadialGradient(e):t?this._fillColor(e):n?this._fillPattern(e):i?this._fillLinearGradient(e):r&&this._fillRadialGradient(e)}}}},_strokeLinearGradient:function(e){var t=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),n=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,a.x,a.y);if(n){for(var r=0;r<n.length;r+=2)i.addColorStop(n[r],n[r+1]);this.setAttr("strokeStyle",i)}},_stroke:function(e){var t=e.dash(),a=e.getStrokeScaleEnabled()||e instanceof Konva.Text;e.hasStroke()&&(a||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore())},_applyShadow:function(e){var t=Konva.Util,a=t.get(e.getShadowRGBA(),"black"),n=t.get(e.getShadowBlur(),5),i=t.get(e.getShadowOffset(),{x:0,y:0}),r=e.getAbsoluteScale(),o=this.canvas.getPixelRatio(),s=r.x*o,l=r.y*o;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",n*Math.min(Math.abs(s),Math.abs(l))),this.setAttr("shadowOffsetX",i.x*s),this.setAttr("shadowOffsetY",i.y*l)},_applyGlobalCompositeOperation:function(e){var t=e.getGlobalCompositeOperation();"source-over"!==t&&this.setAttr("globalCompositeOperation",t)}},Konva.Util.extend(Konva.SceneContext,Konva.Context),Konva.HitContext=function(e){Konva.Context.call(this,e)},Konva.HitContext.prototype={_fill:function(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()},_stroke:function(e){if(e.hasStroke()&&e.strokeHitEnabled()){var t=e.getStrokeScaleEnabled()||e instanceof Konva.Text;t||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(e),this.setAttr("lineWidth",e.strokeWidth()),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}},Konva.Util.extend(Konva.HitContext,Konva.Context)}()},function(e,t){!function(){"use strict";var e;Konva.Canvas=function(e){this.init(e)},Konva.Canvas.prototype={init:function(t){var a=(t||{}).pixelRatio||Konva.pixelRatio||function(){if(e)return e;var t=Konva.Util.createCanvasElement().getContext("2d");return e=(Konva.window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=a,this._canvas=Konva.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)},setWidth:function(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)},setHeight:function(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(e,t){this.setWidth(e),this.setHeight(t)},toDataURL:function(e,t){try{return this._canvas.toDataURL(e,t)}catch(e){try{return this._canvas.toDataURL()}catch(e){return Konva.Util.warn("Unable to get data URL. "+e.message),""}}}},Konva.SceneCanvas=function(e){var t=e||{},a=t.width||0,n=t.height||0;Konva.Canvas.call(this,t),this.context=new Konva.SceneContext(this),this.setSize(a,n)},Konva.Util.extend(Konva.SceneCanvas,Konva.Canvas),Konva.HitCanvas=function(e){var t=e||{},a=t.width||0,n=t.height||0;Konva.Canvas.call(this,t),this.context=new Konva.HitContext(this),this.setSize(a,n),this.hitCanvas=!0},Konva.Util.extend(Konva.HitCanvas,Konva.Canvas)}()},function(e,t){!function(){"use strict";Konva.Collection=function(){var e=[].slice.call(arguments),t=e.length,a=0;for(this.length=t;a<t;a++)this[a]=e[a];return this},Konva.Collection.prototype=[],Konva.Collection.prototype.each=function(e){for(var t=0;t<this.length;t++)e(this[t],t)},Konva.Collection.prototype.toArray=function(){var e,t=[],a=this.length;for(e=0;e<a;e++)t.push(this[e]);return t},Konva.Collection.toCollection=function(e){var t,a=new Konva.Collection,n=e.length;for(t=0;t<n;t++)a.push(e[t]);return a},Konva.Collection._mapMethod=function(e){Konva.Collection.prototype[e]=function(){var t,a=this.length,n=[].slice.call(arguments);for(t=0;t<a;t++)this[t][e].apply(this[t],n);return this}},Konva.Collection.mapMethods=function(e){var t=e.prototype;for(var a in t)Konva.Collection._mapMethod(a)},Konva.Transform=function(e){this.m=e&&e.slice()||[1,0,0,1,0,0]},Konva.Transform.prototype={copy:function(){return new Konva.Transform(this.m)},point:function(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}},translate:function(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this},scale:function(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this},rotate:function(e){var t=Math.cos(e),a=Math.sin(e),n=this.m[0]*t+this.m[2]*a,i=this.m[1]*t+this.m[3]*a,r=this.m[0]*-a+this.m[2]*t,o=this.m[1]*-a+this.m[3]*t;return this.m[0]=n,this.m[1]=i,this.m[2]=r,this.m[3]=o,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(e,t){var a=this.m[0]+this.m[2]*t,n=this.m[1]+this.m[3]*t,i=this.m[2]+this.m[0]*e,r=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=n,this.m[2]=i,this.m[3]=r,this},multiply:function(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],n=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],r=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=a,this.m[2]=n,this.m[3]=i,this.m[4]=r,this.m[5]=o,this},invert:function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,a=-this.m[1]*e,n=-this.m[2]*e,i=this.m[0]*e,r=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=a,this.m[2]=n,this.m[3]=i,this.m[4]=r,this.m[5]=o,this},getMatrix:function(){return this.m},setAbsolutePosition:function(e,t){var a=this.m[0],n=this.m[1],i=this.m[2],r=this.m[3],o=this.m[4],s=(a*(t-this.m[5])-n*(e-o))/(a*r-n*i),l=(e-o-i*s)/a;return this.translate(l,s)}};var e=Math.PI/180,t=180/Math.PI,a={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},n=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Konva.Util={_isElement:function(e){return!(!e||1!=e.nodeType)},_isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isObject:function(e){return!!e&&e.constructor===Object},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e)},_isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},_isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},isObject:function(e){return e instanceof Object},isValidSelector:function(e){if("string"!=typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:function(e){return 0===e?0:e>0?1:-1},createCanvasElement:function(){var e=Konva.isBrowser?Konva.document.createElement("canvas"):new Konva._nodeCanvas;try{e.style=e.style||{}}catch(e){}return e},_isInDocument:function(e){for(;e=e.parentNode;)if(e==Konva.document)return!0;return!1},_simplifyArray:function(e){var t,a,n=[],i=e.length,r=Konva.Util;for(t=0;t<i;t++)a=e[t],r._isNumber(a)?a=Math.round(1e3*a)/1e3:r._isString(a)||(a=a.toString()),n.push(a);return n},_getImage:function(e,t){var a,n;e?this._isElement(e)?t(e):this._isString(e)?((a=new Konva.window.Image).onload=function(){t(a)},a.src=e):e.data?((n=Konva.Util.createCanvasElement()).width=e.width,n.height=e.height,n.getContext("2d").putImageData(e,0,0),this._getImage(n.toDataURL(),t)):t(null):t(null)},_getRGBAString:function(e){return["rgba(",e.red||0,",",e.green||0,",",e.blue||0,",",e.alpha||1,")"].join("")},_rgbToHex:function(e,t,a){return((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1)},_hexToRgb:function(e){e=e.replace("#","");var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor:function(){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return"#"+e},get:function(e,t){return void 0===e?t:e},getRGB:function(e){var t;return e in a?{r:(t=a[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=n.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(e){return e=e||"black",Konva.Util._namedColorToRBA(e)||Konva.Util._hex3ColorToRGBA(e)||Konva.Util._hex6ColorToRGBA(e)||Konva.Util._rgbColorToRGBA(e)||Konva.Util._rgbaColorToRGBA(e)},_namedColorToRBA:function(e){var t=a[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA:function(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA:function(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA:function(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_merge:function(e,t){var a=this._clone(t);for(var n in e)this._isObject(e[n])?a[n]=this._merge(e[n],a[n]):a[n]=e[n];return a},trimRight:function(e){return e.replace(/\s+$/,"")},trimLeft:function(e){return e.replace(/^\s+/,"")},haveIntersection:function(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},cloneObject:function(e){var t={};for(var a in e)this._isObject(e[a])?t[a]=this.cloneObject(e[a]):this._isArray(e[a])?t[a]=this.cloneArray(e[a]):t[a]=e[a];return t},cloneArray:function(e){return e.slice(0)},_degToRad:function(t){return t*e},_radToDeg:function(e){return e*t},_capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},throw:function(e){throw new Error("Konva error: "+e)},error:function(e){console.error("Konva error: "+e)},warn:function(e){Konva.global.console&&console.warn&&Konva.showWarnings&&console.warn("Konva warning: "+e)},extend:function(e,t){function a(){this.constructor=e}a.prototype=t.prototype;var n=e.prototype;for(var i in e.prototype=new a,n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);e.__super__=t.prototype,e.super=t},addMethods:function(e,t){var a;for(a in t)e.prototype[a]=t[a]},_getControlPoints:function(e,t,a,n,i,r,o){var s=Math.sqrt(Math.pow(a-e,2)+Math.pow(n-t,2)),l=Math.sqrt(Math.pow(i-a,2)+Math.pow(r-n,2)),c=o*s/(s+l),d=o*l/(s+l);return[a-c*(i-e),n-c*(r-t),a+d*(i-e),n+d*(r-t)]},_expandPoints:function(e,t){var a,n,i=e.length,r=[];for(a=2;a<i-2;a+=2)n=Konva.Util._getControlPoints(e[a-2],e[a-1],e[a],e[a+1],e[a+2],e[a+3],t),r.push(n[0]),r.push(n[1]),r.push(e[a]),r.push(e[a+1]),r.push(n[2]),r.push(n[3]);return r},_removeLastLetter:function(e){return e.substring(0,e.length-1)},each:function(e,t){for(var a in e)t(a,e[a])},_inRange:function(e,t,a){return t<=e&&e<a},_getProjectionToSegment:function(e,t,a,n,i,r){var o,s,l,c=(e-a)*(e-a)+(t-n)*(t-n);if(0==c)o=e,s=t,l=(i-a)*(i-a)+(r-n)*(r-n);else{var d=((i-e)*(a-e)+(r-t)*(n-t))/c;d<0?(o=e,s=t,l=(e-i)*(e-i)+(t-r)*(t-r)):d>1?(o=a,s=n,l=(a-i)*(a-i)+(n-r)*(n-r)):l=((o=e+d*(a-e))-i)*(o-i)+((s=t+d*(n-t))-r)*(s-r)}return[o,s,l]},_getProjectionToLine:function(e,t,a){var n=Konva.Util.cloneObject(e),i=Number.MAX_VALUE;return t.forEach((function(r,o){if(a||o!==t.length-1){var s=t[(o+1)%t.length],l=Konva.Util._getProjectionToSegment(r.x,r.y,s.x,s.y,e.x,e.y),c=l[0],d=l[1],h=l[2];h<i&&(n.x=c,n.y=d,i=h)}})),n},_prepareArrayForTween:function(e,t,a){var n,i=[],r=[];if(e.length>t.length){var o=t;t=e,e=o}for(n=0;n<e.length;n+=2)i.push({x:e[n],y:e[n+1]});for(n=0;n<t.length;n+=2)r.push({x:t[n],y:t[n+1]});var s=[];return r.forEach((function(e){var t=Konva.Util._getProjectionToLine(e,i,a);s.push(t.x),s.push(t.y)})),s},_prepareToStringify:function(e){var t;for(var a in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(a)&&e[a]&&"object"==typeof e[a])if(t=Object.getOwnPropertyDescriptor(e,a),e[a].visitedByCircularReferenceRemoval||Konva.Util._isElement(e[a])){if(!t.configurable)return null;delete e[a]}else if(null===Konva.Util._prepareToStringify(e[a])){if(!t.configurable)return null;delete e[a]}return delete e.visitedByCircularReferenceRemoval,e}}}()},function(e,t){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){(function(t){!function(){"use strict";var a=Math.PI/180,n={version:"@@version",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/comment/.test((function(){})),enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,Filters:{},isDragging:function(){var e=n.DD;return!!e&&e.isDragging},isDragReady:function(){var e=n.DD;return!!e&&!!e.node},_addId:function(e,t){t&&(this.ids[t]=e)},_removeId:function(e){void 0!==e&&delete this.ids[e]},_addName:function(e,t){t&&(this.names[t]||(this.names[t]=[]),this.names[t].push(e))},_removeName:function(e,t){if(e){var a=this.names[e];if(a){for(var n=0;n<a.length;n++)a[n]._id===t&&a.splice(n,1);0===a.length&&delete this.names[e]}}},getAngle:function(e){return this.angleDeg?e*a:e},_detectIE:function(e){var t=e.indexOf("msie ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("trident/")>0){var a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}var n=e.indexOf("edge/");return n>0&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)},_parseUA:function(e){var t=e.toLowerCase(),a=/(chrome)[ /]([\w.]+)/.exec(t)||/(webkit)[ /]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i=!!e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),r=!!e.match(/IEMobile/i);return{browser:a[1]||"",version:a[2]||"0",isIE:n._detectIE(t),mobile:i,ieMobile:r}},UA:void 0},i=void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{};n.UA=n._parseUA(i.navigator&&i.navigator.userAgent||""),i.Konva&&console.error("Konva instance is already exist in current eviroment. Please use only one instance."),i.Konva=n,n.global=i,n.window=i,n.document=i.document,e.exports=n}()}).call(this,a(20))},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(1),o=a.n(r);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){u(e,t,a[t])}))}return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(7),a(6),a(5),a(4),a(3),a(2);var f=function(e){function t(e){var a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(a=!(n=c(t).call(this,e))||"object"!==s(n)&&"function"!=typeof n?d(this):n).generateHash("avatar_container"),r=a.generateHash("avatar_loader");return a.onFileLoad=a.onFileLoad.bind(d(a)),a.onCloseClick=a.onCloseClick.bind(d(a)),a.state={imgWidth:0,imgHeight:0,scale:1,containerId:i,loaderId:r,lastMouseY:0,showLoader:!(a.props.src||a.props.img)},a}var a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,i.a.Component),(a=[{key:"generateHash",value:function(e){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e+"-"+t()+"-"+t()+"-"+t()}},{key:"onCloseCallback",value:function(){this.props.onClose()}},{key:"onCropCallback",value:function(e){this.props.onCrop(e)}},{key:"onFileLoadCallback",value:function(e){this.props.onFileLoad(e)}},{key:"onBeforeFileLoadCallback",value:function(e){this.props.onBeforeFileLoad(e)}},{key:"onImageLoadCallback",value:function(e){this.props.onImageLoad(e)}},{key:"componentDidMount",value:function(){var e=this;if(!this.state.showLoader){var t=this.props.img||new Image;!this.props.img&&this.props.src&&(t.src=this.props.src),this.setState({image:t},(function(){if(e.image.complete)return e.init();e.image.onload=function(){e.onImageLoadCallback(e.image),e.init()}}))}}},{key:"onFileLoad",value:function(e){if(e.preventDefault(),this.onBeforeFileLoadCallback(e),e.target.value){var t=new FileReader,a=e.target.files[0];this.onFileLoadCallback(a);var n=new Image,i=this;t.onloadend=function(){n.src=t.result,i.setState({image:n,file:a,showLoader:!1},(function(){if(i.image.complete)return i.init();i.image.onload=function(){return i.init()}}))},t.readAsDataURL(a)}}},{key:"onCloseClick",value:function(){var e=this;this.setState({showLoader:!0},(function(){return e.onCloseCallback()}))}},{key:"init",value:function(){var e,t,a=this.props,n=a.height,i=a.minCropRadius,r=a.cropRadius,o=this.image.width,s=this.image.height,l=s/o,c=this.props,d=c.imageWidth,h=c.imageHeight;h&&d&&console.warn("The imageWidth and imageHeight properties can not be set together, using only imageWidth."),h&&!d?t=(e=h||s)/l:d?e=(t=d)*l||s:t=(e=n||s)/l;var u=e/s,f=Math.max(i,r||Math.min(t,e)/3);this.setState({imgWidth:t,imgHeight:e,scale:u,cropRadius:f},this.initCanvas)}},{key:"initCanvas",value:function(){var e=this,t=this.initStage(),a=this.initBackground(),n=this.initShading(),i=this.initCrop(),r=this.initCropStroke(),s=this.initResize(),l=this.initResizeIcon(),c=new o.a.Layer;c.add(a),c.add(n),c.add(r),c.add(i),c.add(s),c.add(l),t.add(c);var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return i.radius()-e},h=function(e){return i.x()-d(e)<0},u=function(e){return i.y()-d(e)<0},f=function(e){return i.x()+d(e)>t.width()},p=function(e){return i.y()+d(e)>t.height()},g=function(t){return d(t)>=e.minCropRadius?t:i.radius()-e.minCropRadius},m=function(e){return e+.86*i.radius()},v=function(e){return e-.5*i.radius()},b=function(e,t){s.x(m(e)-8),s.y(v(t)-8),l.x(m(e)-8),l.y(v(t)-10)},y=function(){return i.toDataURL({x:i.x()-i.radius(),y:i.y()-i.radius(),width:2*i.radius(),height:2*i.radius()})},C=function(e){var t=e>0||function(e){return!(h(e)||f(e)||p(e)||u(e))}(e)?e:0;r.radius(r.radius()-g(t)),i.radius(i.radius()-g(t)),s.fire("resize")};this.onCropCallback(y()),i.on("dragmove",(function(){return i.fire("resize")})),i.on("dragend",(function(){return e.onCropCallback(y())})),i.on("resize",(function(){var a=h()?i.radius()+1:f()?t.width()-i.radius()-1:i.x(),n=u()?i.radius()+1:p()?t.height()-i.radius()-1:i.y();b(a,n),i.setFillPatternOffset({x:a/e.scale,y:n/e.scale}),i.x(a),r.x(a),i.y(n),r.y(n)})),i.on("mouseenter",(function(){return t.container().style.cursor="move"})),i.on("mouseleave",(function(){return t.container().style.cursor="default"})),i.on("dragstart",(function(){return t.container().style.cursor="move"})),i.on("dragend",(function(){return t.container().style.cursor="default"})),s.on("touchstart",(function(t){s.on("dragmove",(function(a){if("touchmove"===a.evt.type){var n=a.evt.changedTouches[0].pageY-t.evt.changedTouches[0].pageY||0;C(n*e.mobileScaleSpeed)}}))})),s.on("dragmove",(function(t){if("touchmove"!==t.evt.type){var a=t.evt.y,n=a?a-e.state.lastMouseY:void 0,i=t.evt.movementY||n||0;e.setState({lastMouseY:a}),C(i)}})),s.on("dragend",(function(){return e.onCropCallback(y())})),s.on("resize",(function(){return b(i.x(),i.y())})),s.on("mouseenter",(function(){return t.container().style.cursor="nesw-resize"})),s.on("mouseleave",(function(){return t.container().style.cursor="default"})),s.on("dragstart",(function(a){e.setState({lastMouseY:a.evt.y}),t.container().style.cursor="nesw-resize"})),s.on("dragend",(function(){return t.container().style.cursor="default"}))}},{key:"initStage",value:function(){return new o.a.Stage({container:this.containerId,width:this.width,height:this.height})}},{key:"initBackground",value:function(){return new o.a.Image({x:0,y:0,width:this.width,height:this.height,image:this.image})}},{key:"initShading",value:function(){return new o.a.Rect({x:0,y:0,width:this.width,height:this.height,fill:this.shadingColor,strokeWidth:4,opacity:this.shadingOpacity})}},{key:"initCrop",value:function(){return new o.a.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,fillPatternImage:this.image,fillPatternOffset:{x:this.halfWidth/this.scale,y:this.halfHeight/this.scale},fillPatternScale:{x:this.scale,y:this.scale},opacity:1,draggable:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initCropStroke",value:function(){return new o.a.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,stroke:this.cropColor,strokeWidth:this.lineWidth,strokeScaleEnabled:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initResize",value:function(){return new o.a.Rect({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-8,width:16,height:16,draggable:!0,dragBoundFunc:function(e){return{x:this.getAbsolutePosition().x,y:e.y}}})}},{key:"initResizeIcon",value:function(){return new o.a.Path({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-10,data:"M47.624,0.124l12.021,9.73L44.5,24.5l10,10l14.661-15.161l9.963,12.285v-31.5H47.624z M24.5,44.5   L9.847,59.653L0,47.5V79h31.5l-12.153-9.847L34.5,54.5L24.5,44.5z",fill:this.cropColor,scale:{x:.2,y:.2}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.width,n=t.height,r={display:"flex",justifyContent:"center",backgroundColor:this.backgroundColor,width:a||this.width,position:"relative"},o=this.props.label,s=l({},this.props.labelStyle,{lineHeight:(n||200)+"px"}),c=l({},this.props.borderStyle,{width:a||200,height:n||200});return i.a.createElement("div",null,this.state.showLoader?i.a.createElement("div",{style:c},i.a.createElement("input",{onChange:function(t){return e.onFileLoad(t)},name:this.loaderId,type:"file",id:this.loaderId,style:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},accept:this.mimeTypes}),i.a.createElement("label",{htmlFor:this.loaderId,style:s},o)):i.a.createElement("div",{style:r},i.a.createElement("svg",{onClick:this.onCloseClick,style:{position:"absolute",zIndex:999,cursor:"pointer",left:"10px",top:"10px"},viewBox:"0 0 475.2 475.2",width:"20px",height:"20px"},i.a.createElement("g",null,i.a.createElement("path",{d:"M405.6,69.6C360.7,24.7,301.1,0,237.6,0s-123.1,24.7-168,69.6S0,174.1,0,237.6s24.7,123.1,69.6,168s104.5,69.6,168,69.6    s123.1-24.7,168-69.6s69.6-104.5,69.6-168S450.5,114.5,405.6,69.6z M386.5,386.5c-39.8,39.8-92.7,61.7-148.9,61.7    s-109.1-21.9-148.9-61.7c-82.1-82.1-82.1-215.7,0-297.8C128.5,48.9,181.4,27,237.6,27s109.1,21.9,148.9,61.7    C468.6,170.8,468.6,304.4,386.5,386.5z",fill:this.closeIconColor}),i.a.createElement("path",{d:"M342.3,132.9c-5.3-5.3-13.8-5.3-19.1,0l-85.6,85.6L152,132.9c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1    l85.6,85.6l-85.6,85.6c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l85.6-85.6l85.6,85.6c2.6,2.6,6.1,4,9.5,4    c3.5,0,6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1l-85.4-85.6l85.6-85.6C347.6,146.7,347.6,138.2,342.3,132.9z",fill:this.closeIconColor}))),i.a.createElement("div",{id:this.containerId})))}},{key:"lineWidth",get:function(){return this.props.lineWidth}},{key:"containerId",get:function(){return this.state.containerId}},{key:"closeIconColor",get:function(){return this.props.closeIconColor}},{key:"cropColor",get:function(){return this.props.cropColor}},{key:"loaderId",get:function(){return this.state.loaderId}},{key:"mimeTypes",get:function(){return this.props.mimeTypes}},{key:"backgroundColor",get:function(){return this.props.backgroundColor}},{key:"shadingColor",get:function(){return this.props.shadingColor}},{key:"shadingOpacity",get:function(){return this.props.shadingOpacity}},{key:"mobileScaleSpeed",get:function(){return this.props.mobileScaleSpeed}},{key:"cropRadius",get:function(){return this.state.cropRadius}},{key:"minCropRadius",get:function(){return this.props.minCropRadius}},{key:"scale",get:function(){return this.state.scale}},{key:"width",get:function(){return this.state.imgWidth}},{key:"halfWidth",get:function(){return this.state.imgWidth/2}},{key:"height",get:function(){return this.state.imgHeight}},{key:"halfHeight",get:function(){return this.state.imgHeight/2}},{key:"image",get:function(){return this.state.image}}])&&function(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,a),t}();u(f,"defaultProps",{shadingColor:"grey",shadingOpacity:.6,cropColor:"white",closeIconColor:"white",lineWidth:4,minCropRadius:30,backgroundColor:"grey",mimeTypes:"image/jpeg,image/png",mobileScaleSpeed:.5,onClose:function(){},onCrop:function(){},onFileLoad:function(){},onImageLoad:function(){},onBeforeFileLoad:function(){},label:"Choose a file",labelStyle:{fontSize:"1.25em",fontWeight:"700",color:"black",display:"inline-block",fontFamily:"sans-serif",cursor:"pointer"},borderStyle:{border:"2px solid #979797",borderStyle:"dashed",borderRadius:"8px",textAlign:"center"}}),t.default=f}]))},374:function(e){e.exports=JSON.parse('{"choosefile":{"es":"Seleccione","en":"Choose"},"btnCambiar":{"es":"Guardar","en":"Save"},"onError":{"es":"El avatar no se pudo guardar","en":"Avatar can\'t save"}}')},375:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 9c2.7 0 5.8 1.29 6 2v1H6v-.99c.2-.72 3.3-2.01 6-2.01m0-11C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentityOutlined");t.default=r},376:function(e){e.exports=JSON.parse('{"title":{"es":"Editar perfil","en":"Edit profile"},"email":{"es":"Correo","en":"Email"},"firstName":{"es":"Nombre","en":"First name"},"lastName":{"es":"Apellidos","en":"Last name"},"nickname":{"es":"Nombre de pila","en":"Nick name"},"gender":{"es":"G\xe9nero","en":"Gender"},"invalidEmail":{"es":"Correo inv\xe1lido","en":"Invalid email"},"nicknameNull":{"es":"El nombre de pila no puede estar vacio","en":"Nickname can\'t be empty"},"nameInvalid":{"es":"Sin espacios. Sin n\xfameros.","en":"No spaces. No numbers."},"nameShort":{"es":"Muy corto (min 2)","en":"Too Short (2 min)"},"nameLong":{"es":"Muy largo (max 20)","en":"Too long (max 20)"},"duplicated":{"es":"El correo ya se encuentra registrado.","en":"The email is already registered."},"error":{"es":"Error interno","en":"Internal error"},"onSaveSuccess":{"es":"Perfil editado correctamente","en":"Profile edited successfully"},"save":{"es":"Guardar","en":"Save"},"female":{"es":"Femenino","en":"Female"},"male":{"es":"Masculino","en":"Male"},"connError":{"es":"Error de conexi\xf3n","en":"Network error"}}')},377:function(e){e.exports=JSON.parse('{"winTitle":{"es":"Compartir aplicaci\xf3n","en":"Share application"},"text":{"es":"Escribe el nombre y la direccion de correo el\xe9ctronico de un amigo para invitarlo y se pueda comunicar contigo por esta v\xeda","en":"Write the name and the email address to invite your friend and can comunicate with you using this app"},"email":{"es":"Correo Electr\xf3nico","en":"Email Address"},"name":{"es":"Nombre","en":"First Name"},"send":{"es":"Enviar","en":"Send"},"sendSuccess":{"es":"Invitaci\xf3n eviada","en":"Invitation sended"},"nameInvalid":{"es":"Sin espacios. Sin n\xfameros.","en":"No spaces. No numbers."},"nameShort":{"es":"Muy corto (min 2)","en":"Too Short (2 min)"},"nameLong":{"es":"Muy largo (max 20)","en":"Too long (max 20)"},"emailExist":{"es":"El usuario ya est\xe1 registrado en el sistema","en":"The user is already in the system"},"connError":{"es":"Error de conexi\xf3n","en":"Network error"}}')},378:function(e){e.exports=JSON.parse('{"title":{"es":"Calif\xedcanos","en":"Rate us"},"comment":{"es":"Comentario","en":"Comment"},"unrated":{"es":"Sin calificar","en":"Unrated"},"useless":{"es":"Inservible","en":"Useless"},"useless+":{"es":"Inservible+","en":"Useless+"},"poor":{"es":"Pobre","en":"Poor"},"poor+":{"es":"Pobre+","en":"Poor+"},"ok":{"es":"Ok","en":"Ok"},"ok+":{"es":"Ok+","en":"Ok+"},"good":{"es":"Bueno","en":"Good"},"good+":{"es":"Bueno+","en":"Good+"},"excellent":{"es":"Excelente","en":"Excellent"},"excellent+":{"es":"Excelente+","en":"Excellent+"},"design":{"es":"Dise\xf1o","en":"Design"},"performance":{"es":"Rendimiento","en":"Performance"},"usability":{"es":"Usabilidad","en":"Usability"},"lbAverage":{"es":"Promedio","en":"Average"},"lbOnLoadError":{"es":"Error al cargar su calificaci\xf3n previa","en":"Error loading previous rating"},"lbOnSaveError":{"es":"Error al guardar su calificaci\xf3n","en":"Error saving your rating"},"lbOnsaveOk":{"es":"Calificaci\xf3n guardada","en":"Rating saved"},"save":{"es":"Guardar","en":"Save"}}')},379:function(e){e.exports=JSON.parse('{"winTitle":{"es":"Reportar error","en":"Report bug"},"text":{"es":"Su reporte nos ayuda a identificar errores en la aplicaci\xf3n. Sea lo m\xe1s espec\xedfico posible cuando los redacte.","en":"Your report help us to identify errors in the application. Be as most specific as posible."},"send":{"es":"Enviar","en":"Send"},"report":{"es":"Escriba el reporte aqu\xed ...","en":"Report here ..."},"sendError":{"es":"Ocurri\xf3 un error!","en":"Something went wrong!"},"sendOk":{"es":"El reporte fue enviado!","en":"The report was sended!"}}')},380:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");t.default=r},381:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=r},382:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}),"Language");t.default=r},383:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"ColorLens");t.default=r},384:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"}),"NotificationsActive");t.default=r},385:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");t.default=r},386:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.default=r},387:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"}),"BugReport");t.default=r},388:function(e,t,a){"use strict";var n=a(61);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(74)).default)(i.default.createElement("path",{d:"M14.12 4l1.83 2H20v12H4V6h4.05l1.83-2h4.24M15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm-3 7c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"}),"PhotoCameraOutlined");t.default=r},389:function(e){e.exports=JSON.parse('{"share":{"es":"Compartir","en":"Share"},"shareDesc":{"es":"Envia un correo elect\xf3nico a tus amigos para compartir la aplicaci\xf3n","en":"Send a email to your friends to share."},"report":{"es":"Reportar un error","en":"Report a bug"},"reportDesc":{"es":"Reporta un error y lo corregiremos lo mas pronto posible.","en":"Report a bug and we will correct it as soon as possible."},"feedback":{"es":"Retroalimenzaci\xf3n","en":"Feedback"},"feedbackDesc":{"es":"H\xe1ganos saber que piensa de la aplicaci\xf3n y que podemos hacer para mejorar mediante su evaluaci\xf3n.","en":"Let us know what you think of the application and what we can do to improve by rating the app."},"edit":{"es":"Editar perfil","en":"Edit profile"},"editDesc":{"es":"Edita los datos de tu perfil.","en":"Edit your profile data."},"logout":{"es":"Salir","en":"Logout"},"editpass":{"es":"Cambiar contrase\xf1a","en":"Edit password"},"editpassDesc":{"es":"Permite cambiar su contrase\xf1a.","en":"Allow edit your password."},"darkMode":{"es":"Modo noche","en":"Dark mode"},"shouldAllowNotInBrowser":{"es":"Debe abilitar las notificaciones para esta p\xe1gina en la configuraci\xf3n de su navegador.","en":"You need to enable the notifications for this page from yuor configuration web browser."},"allowOSNotifications":{"es":"Notificaciones","en":"Notifications"}}')},431:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(25),o=a(3),s=a(7),l=a(206),c=a(1),d=a(4),h=(a(2),a(6)),u=a(173),f=a(8),p=n.forwardRef((function(e,t){var a=e.classes,i=e.className,r=e.raised,o=void 0!==r&&r,s=Object(d.a)(e,["classes","className","raised"]);return n.createElement(u.a,Object(c.a)({className:Object(h.a)(a.root,i),elevation:o?8:1,ref:t},s))})),g=Object(f.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(p),m=a(210),v=n.forwardRef((function(e,t){var a=e.action,i=e.avatar,r=e.classes,o=e.className,s=e.component,l=void 0===s?"div":s,u=e.disableTypography,f=void 0!==u&&u,p=e.subheader,g=e.subheaderTypographyProps,v=e.title,b=e.titleTypographyProps,y=Object(d.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),C=v;null==C||C.type===m.a||f||(C=n.createElement(m.a,Object(c.a)({variant:i?"body2":"h5",className:r.title,component:"span",display:"block"},b),C));var S=p;return null==S||S.type===m.a||f||(S=n.createElement(m.a,Object(c.a)({variant:i?"body2":"body1",className:r.subheader,color:"textSecondary",component:"span",display:"block"},g),S)),n.createElement(l,Object(c.a)({className:Object(h.a)(r.root,o),ref:t},y),i&&n.createElement("div",{className:r.avatar},i),n.createElement("div",{className:r.content},C,S),a&&n.createElement("div",{className:r.action},a))})),b=Object(f.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(v),y=a(217),C=a(361),S=a(209),x=a(420),_=a(422),w=a(425),O=a(429),k=a(245),E=a(15),j=a(256),P=a(237),K=n.forwardRef((function(e,t){var a=e.children,i=e.classes,r=e.className,o=e.color,s=void 0===o?"primary":o,l=e.component,u=void 0===l?"div":l,f=e.disabled,p=void 0!==f&&f,g=e.error,m=void 0!==g&&g,v=e.fullWidth,b=void 0!==v&&v,y=e.focused,C=e.hiddenLabel,S=void 0!==C&&C,x=e.margin,_=void 0===x?"none":x,w=e.required,O=void 0!==w&&w,K=e.size,N=e.variant,A=void 0===N?"standard":N,R=Object(d.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),T=n.useState((function(){var e=!1;return a&&n.Children.forEach(a,(function(t){if(Object(j.a)(t,["Input","Select"])){var a=Object(j.a)(t,["Select"])?t.props.input:t;a&&Object(k.a)(a.props)&&(e=!0)}})),e})),L=T[0],D=T[1],F=n.useState((function(){var e=!1;return a&&n.Children.forEach(a,(function(t){Object(j.a)(t,["Input","Select"])&&Object(k.b)(t.props,!0)&&(e=!0)})),e})),I=F[0],M=F[1],G=n.useState(!1),B=G[0],z=G[1],U=void 0!==y?y:B;p&&U&&z(!1);var V=n.useCallback((function(){M(!0)}),[]),W={adornedStart:L,setAdornedStart:D,color:s,disabled:p,error:m,filled:I,focused:U,fullWidth:b,hiddenLabel:S,margin:("small"===K?"dense":void 0)||_,onBlur:function(){z(!1)},onEmpty:n.useCallback((function(){M(!1)}),[]),onFilled:V,onFocus:function(){z(!0)},registerEffect:void 0,required:O,variant:A};return n.createElement(P.a.Provider,{value:W},n.createElement(u,Object(c.a)({className:Object(h.a)(i.root,r,"none"!==_&&i["margin".concat(Object(E.a)(_))],b&&i.fullWidth),ref:t},R),a))})),N=Object(f.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(K),A=a(426),R=a(202),T=a(29),L=a(38),D=a(113),F=(a(36),a(45)),I=a(390),M=a(16),G=a(244);function B(e,t){return"object"===Object(L.a)(t)&&null!==t?e===t:String(e)===String(t)}var z=n.forwardRef((function(e,t){var a=e["aria-label"],i=e.autoFocus,r=e.autoWidth,o=e.children,s=e.classes,l=e.className,u=e.defaultValue,f=e.disabled,p=e.displayEmpty,g=e.IconComponent,m=e.inputRef,v=e.labelId,b=e.MenuProps,y=void 0===b?{}:b,C=e.multiple,S=e.name,x=e.onBlur,_=e.onChange,w=e.onClose,O=e.onFocus,j=e.onOpen,P=e.open,K=e.readOnly,N=e.renderValue,A=e.SelectDisplayProps,R=void 0===A?{}:A,L=e.tabIndex,z=(e.type,e.value),U=e.variant,V=void 0===U?"standard":U,W=Object(d.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),H=Object(G.a)({controlled:z,default:u,name:"Select"}),q=Object(T.a)(H,2),$=q[0],Y=q[1],X=n.useRef(null),J=n.useState(null),Q=J[0],Z=J[1],ee=n.useRef(null!=P).current,te=n.useState(),ae=te[0],ne=te[1],ie=n.useState(!1),re=ie[0],oe=ie[1],se=Object(M.a)(t,m);n.useImperativeHandle(se,(function(){return{focus:function(){Q.focus()},node:X.current,value:$}}),[Q,$]),n.useEffect((function(){i&&Q&&Q.focus()}),[i,Q]),n.useEffect((function(){if(Q){var e=Object(F.a)(Q).getElementById(v);if(e){var t=function(){getSelection().isCollapsed&&Q.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[v,Q]);var le,ce,de=function(e,t){e?j&&j(t):w&&w(t),ee||(ne(r?null:Q.clientWidth),oe(e))},he=n.Children.toArray(o),ue=function(e){return function(t){var a;if(C||de(!1,t),C){a=Array.isArray($)?$.slice():[];var n=$.indexOf(e.props.value);-1===n?a.push(e.props.value):a.splice(n,1)}else a=e.props.value;e.props.onClick&&e.props.onClick(t),$!==a&&(Y(a),_&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:a,name:S}}),_(t,e)))}},fe=null!==Q&&(ee?P:re);delete W["aria-invalid"];var pe=[],ge=!1;(Object(k.b)({value:$})||p)&&(N?le=N($):ge=!0);var me=he.map((function(e){if(!n.isValidElement(e))return null;var t;if(C){if(!Array.isArray($))throw new Error(Object(D.a)(2));(t=$.some((function(t){return B(t,e.props.value)})))&&ge&&pe.push(e.props.children)}else(t=B($,e.props.value))&&ge&&(ce=e.props.children);return t&&!0,n.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ue(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ge&&(le=C?pe.join(", "):ce);var ve,be=ae;!r&&ee&&Q&&(be=Q.clientWidth),ve="undefined"!==typeof L?L:f?null:0;var ye=R.id||(S?"mui-component-select-".concat(S):void 0);return n.createElement(n.Fragment,null,n.createElement("div",Object(c.a)({className:Object(h.a)(s.root,s.select,s.selectMenu,s[V],l,f&&s.disabled),ref:Z,tabIndex:ve,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":fe?"true":void 0,"aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[v,ye].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!K){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),de(!0,e))}},onMouseDown:f||K?null:function(e){0===e.button&&(e.preventDefault(),Q.focus(),de(!0,e))},onBlur:function(e){!fe&&x&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:$,name:S}}),x(e))},onFocus:O},R,{id:ye}),function(e){return null==e||"string"===typeof e&&!e.trim()}(le)?n.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):le),n.createElement("input",Object(c.a)({value:Array.isArray($)?$.join(","):$,name:S,ref:X,"aria-hidden":!0,onChange:function(e){var t=he.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var a=he[t];Y(a.props.value),_&&_(e,a)}},tabIndex:-1,className:s.nativeInput,autoFocus:i},W)),n.createElement(g,{className:Object(h.a)(s.icon,s["icon".concat(Object(E.a)(V))],fe&&s.iconOpen,f&&s.disabled)}),n.createElement(I.a,Object(c.a)({id:"menu-".concat(S||""),anchorEl:Q,open:fe,onClose:function(e){de(!1,e)}},y,{MenuListProps:Object(c.a)({"aria-labelledby":v,role:"listbox",disableListWrap:!0},y.MenuListProps),PaperProps:Object(c.a)({},y.PaperProps,{style:Object(c.a)({minWidth:be},null!=y.PaperProps?y.PaperProps.style:null)})}),me))})),U=a(230);function V(){return n.useContext(P.a)}var W=a(90),H=Object(W.a)(n.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),q=a(442),$=n.forwardRef((function(e,t){var a=e.disableUnderline,i=e.classes,r=e.fullWidth,o=void 0!==r&&r,s=e.inputComponent,l=void 0===s?"input":s,u=e.multiline,f=void 0!==u&&u,p=e.type,g=void 0===p?"text":p,m=Object(d.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return n.createElement(q.a,Object(c.a)({classes:Object(c.a)({},i,{root:Object(h.a)(i.root,!a&&i.underline),underline:null}),fullWidth:o,inputComponent:l,multiline:f,ref:t,type:g},m))}));$.muiName="Input";var Y=Object(f.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})($),X=n.forwardRef((function(e,t){var a=e.classes,i=e.className,r=e.disabled,o=e.IconComponent,s=e.inputRef,l=e.variant,u=void 0===l?"standard":l,f=Object(d.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return n.createElement(n.Fragment,null,n.createElement("select",Object(c.a)({className:Object(h.a)(a.root,a.select,a[u],i,r&&a.disabled),disabled:r,ref:s||t},f)),e.multiple?null:n.createElement(o,{className:Object(h.a)(a.icon,a["icon".concat(Object(E.a)(u))],r&&a.disabled)}))})),J=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Q=n.createElement(Y,null),Z=n.forwardRef((function(e,t){var a=e.children,i=e.classes,r=e.IconComponent,o=void 0===r?H:r,s=e.input,l=void 0===s?Q:s,h=e.inputProps,u=(e.variant,Object(d.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),f=V(),p=Object(U.a)({props:e,muiFormControl:f,states:["variant"]});return n.cloneElement(l,Object(c.a)({inputComponent:X,inputProps:Object(c.a)({children:a,classes:i,IconComponent:o,variant:p.variant,type:void 0},h,l?l.props.inputProps:{}),ref:t},u))}));Z.muiName="Select";Object(f.a)(J,{name:"MuiNativeSelect"})(Z);var ee=n.forwardRef((function(e,t){var a=e.disableUnderline,i=e.classes,r=e.fullWidth,o=void 0!==r&&r,s=e.inputComponent,l=void 0===s?"input":s,u=e.multiline,f=void 0!==u&&u,p=e.type,g=void 0===p?"text":p,m=Object(d.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return n.createElement(q.a,Object(c.a)({classes:Object(c.a)({},i,{root:Object(h.a)(i.root,!a&&i.underline),underline:null}),fullWidth:o,inputComponent:l,multiline:f,ref:t,type:g},m))}));ee.muiName="Input";var te=Object(f.a)((function(e){var t="light"===e.palette.type,a=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:n,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:n}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(a),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(ee),ae=a(12),ne=a(30),ie=n.forwardRef((function(e,t){e.children;var a=e.classes,i=e.className,r=e.label,o=e.labelWidth,s=e.notched,l=e.style,u=Object(d.a)(e,["children","classes","className","label","labelWidth","notched","style"]),f="rtl"===Object(ne.a)().direction?"right":"left";if(void 0!==r)return n.createElement("fieldset",Object(c.a)({"aria-hidden":!0,className:Object(h.a)(a.root,i),ref:t,style:l},u),n.createElement("legend",{className:Object(h.a)(a.legendLabelled,s&&a.legendNotched)},r?n.createElement("span",null,r):n.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var p=o>0?.75*o+8:.01;return n.createElement("fieldset",Object(c.a)({"aria-hidden":!0,style:Object(c.a)(Object(ae.a)({},"padding".concat(Object(E.a)(f)),8),l),className:Object(h.a)(a.root,i),ref:t},u),n.createElement("legend",{className:a.legend,style:{width:s?p:.01}},n.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),re=Object(f.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(ie),oe=n.forwardRef((function(e,t){var a=e.classes,i=e.fullWidth,r=void 0!==i&&i,o=e.inputComponent,s=void 0===o?"input":o,l=e.label,u=e.labelWidth,f=void 0===u?0:u,p=e.multiline,g=void 0!==p&&p,m=e.notched,v=e.type,b=void 0===v?"text":v,y=Object(d.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return n.createElement(q.a,Object(c.a)({renderSuffix:function(e){return n.createElement(re,{className:a.notchedOutline,label:l,labelWidth:f,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(c.a)({},a,{root:Object(h.a)(a.root,a.underline),notchedOutline:null}),fullWidth:r,inputComponent:s,multiline:g,ref:t,type:b},y))}));oe.muiName="Input";var se=Object(f.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(oe),le=J,ce=n.createElement(Y,null),de=n.createElement(te,null),he=n.forwardRef((function e(t,a){var i=t.autoWidth,r=void 0!==i&&i,o=t.children,s=t.classes,l=t.displayEmpty,h=void 0!==l&&l,u=t.IconComponent,f=void 0===u?H:u,p=t.id,g=t.input,m=t.inputProps,v=t.label,b=t.labelId,y=t.labelWidth,C=void 0===y?0:y,S=t.MenuProps,x=t.multiple,_=void 0!==x&&x,w=t.native,O=void 0!==w&&w,k=t.onClose,E=t.onOpen,j=t.open,P=t.renderValue,K=t.SelectDisplayProps,N=t.variant,A=void 0===N?"standard":N,T=Object(d.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),L=O?X:z,D=V(),F=Object(U.a)({props:t,muiFormControl:D,states:["variant"]}).variant||A,I=g||{standard:ce,outlined:n.createElement(se,{label:v,labelWidth:C}),filled:de}[F];return n.cloneElement(I,Object(c.a)({inputComponent:L,inputProps:Object(c.a)({children:o,IconComponent:f,variant:F,type:void 0,multiple:_},O?{id:p}:{autoWidth:r,displayEmpty:h,labelId:b,MenuProps:S,onClose:k,onOpen:E,open:j,renderValue:P,SelectDisplayProps:Object(c.a)({id:p},K)},m,{classes:m?Object(R.a)({baseClasses:s,newClasses:m.classes,Component:e}):s},g?g.props.inputProps:{}),ref:a},T))}));he.muiName="Select";var ue=Object(f.a)(le,{name:"MuiSelect"})(he),fe=a(428),pe=a(441),ge=n.forwardRef((function(e,t){e.checked;var a=e.classes,i=e.className,r=e.control,o=e.disabled,s=(e.inputRef,e.label),l=e.labelPlacement,u=void 0===l?"end":l,f=(e.name,e.onChange,e.value,Object(d.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),p=V(),g=o;"undefined"===typeof g&&"undefined"!==typeof r.props.disabled&&(g=r.props.disabled),"undefined"===typeof g&&p&&(g=p.disabled);var v={disabled:g};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof r.props[t]&&"undefined"!==typeof e[t]&&(v[t]=e[t])})),n.createElement("label",Object(c.a)({className:Object(h.a)(a.root,i,"end"!==u&&a["labelPlacement".concat(Object(E.a)(u))],g&&a.disabled),ref:t},f),n.cloneElement(r,v),n.createElement(m.a,{component:"span",className:Object(h.a)(a.label,g&&a.disabled)},s))})),me=Object(f.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(ge),ve=a(26),be=n.forwardRef((function(e,t){var a=e.autoFocus,i=e.checked,r=e.checkedIcon,o=e.classes,s=e.className,l=e.defaultChecked,u=e.disabled,f=e.icon,p=e.id,g=e.inputProps,m=e.inputRef,v=e.name,b=e.onBlur,y=e.onChange,C=e.onFocus,x=e.readOnly,_=e.required,w=e.tabIndex,O=e.type,k=e.value,E=Object(d.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),j=Object(G.a)({controlled:i,default:Boolean(l),name:"SwitchBase",state:"checked"}),P=Object(T.a)(j,2),K=P[0],N=P[1],A=V(),R=u;A&&"undefined"===typeof R&&(R=A.disabled);var L="checkbox"===O||"radio"===O;return n.createElement(S.a,Object(c.a)({component:"span",className:Object(h.a)(o.root,s,K&&o.checked,R&&o.disabled),disabled:R,tabIndex:null,role:void 0,onFocus:function(e){C&&C(e),A&&A.onFocus&&A.onFocus(e)},onBlur:function(e){b&&b(e),A&&A.onBlur&&A.onBlur(e)},ref:t},E),n.createElement("input",Object(c.a)({autoFocus:a,checked:i,defaultChecked:l,className:o.input,disabled:R,id:L&&p,name:v,onChange:function(e){var t=e.target.checked;N(t),y&&y(e,t)},readOnly:x,ref:m,required:_,tabIndex:w,type:O,value:k},g)),K?r:f)})),ye=Object(f.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(be),Ce=n.forwardRef((function(e,t){var a=e.classes,i=e.className,r=e.color,o=void 0===r?"secondary":r,s=e.edge,l=void 0!==s&&s,u=e.size,f=void 0===u?"medium":u,p=Object(d.a)(e,["classes","className","color","edge","size"]),g=n.createElement("span",{className:a.thumb});return n.createElement("span",{className:Object(h.a)(a.root,i,{start:a.edgeStart,end:a.edgeEnd}[l],"small"===f&&a["size".concat(Object(E.a)(f))])},n.createElement(ye,Object(c.a)({type:"checkbox",icon:g,checkedIcon:g,classes:{root:Object(h.a)(a.switchBase,a["color".concat(Object(E.a)(o))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},p)),n.createElement("span",{className:a.track}))})),Se=Object(f.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(ve.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(ve.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(Ce),xe=a(418),_e=a(430),we=a(381),Oe=a.n(we),ke=a(388),Ee=a.n(ke),je=a(385),Pe=a.n(je),Ke=a(387),Ne=a.n(Ke),Ae=a(386),Re=a.n(Ae),Te=a(382),Le=a.n(Te),De=a(383),Fe=a.n(De),Ie=a(380),Me=a.n(Ie),Ge=a(384),Be=a.n(Ge),ze=a(59),Ue=a(57),Ve=a(9),We=a(223),He=a(219),qe=a(220),$e=a(207),Ye=n.forwardRef((function(e,t){var a=e.children,i=e.classes,r=e.className,o=(e.color,e.component),s=void 0===o?"label":o,l=(e.disabled,e.error,e.filled,e.focused,e.required,Object(d.a)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),u=V(),f=Object(U.a)({props:e,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]});return n.createElement(s,Object(c.a)({className:Object(h.a)(i.root,i["color".concat(Object(E.a)(f.color||"primary"))],r,f.disabled&&i.disabled,f.error&&i.error,f.filled&&i.filled,f.focused&&i.focused,f.required&&i.required),ref:t},l),a,f.required&&n.createElement("span",{"aria-hidden":!0,className:Object(h.a)(i.asterisk,f.error&&i.error)},"\u2009","*"))})),Xe=Object(f.a)((function(e){return{root:Object(c.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(Ye),Je=n.forwardRef((function(e,t){var a=e.classes,i=e.className,r=e.disableAnimation,o=void 0!==r&&r,s=(e.margin,e.shrink),l=(e.variant,Object(d.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),u=V(),f=s;"undefined"===typeof f&&u&&(f=u.filled||u.focused||u.adornedStart);var p=Object(U.a)({props:e,muiFormControl:u,states:["margin","variant"]});return n.createElement(Xe,Object(c.a)({"data-shrink":f,className:Object(h.a)(a.root,i,u&&a.formControl,!o&&a.animated,f&&a.shrink,"dense"===p.margin&&a.marginDense,{filled:a.filled,outlined:a.outlined}[p.variant]),classes:{focused:a.focused,disabled:a.disabled,error:a.error,required:a.required,asterisk:a.asterisk},ref:t},l))})),Qe=Object(f.a)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(Je),Ze=n.forwardRef((function(e,t){var a=e.children,i=e.classes,r=e.className,o=e.component,s=void 0===o?"p":o,l=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(d.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),u=V(),f=Object(U.a)({props:e,muiFormControl:u,states:["variant","margin","disabled","error","filled","focused","required"]});return n.createElement(s,Object(c.a)({className:Object(h.a)(i.root,("filled"===f.variant||"outlined"===f.variant)&&i.contained,r,f.disabled&&i.disabled,f.error&&i.error,f.filled&&i.filled,f.focused&&i.focused,f.required&&i.required,"dense"===f.margin&&i.marginDense),ref:t},l)," "===a?n.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):a)})),et=Object(f.a)((function(e){return{root:Object(c.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(Ze),tt={standard:Y,filled:te,outlined:se},at=n.forwardRef((function(e,t){var a=e.autoComplete,i=e.autoFocus,r=void 0!==i&&i,o=e.children,s=e.classes,l=e.className,u=e.color,f=void 0===u?"primary":u,p=e.defaultValue,g=e.disabled,m=void 0!==g&&g,v=e.error,b=void 0!==v&&v,y=e.FormHelperTextProps,C=e.fullWidth,S=void 0!==C&&C,x=e.helperText,_=e.hiddenLabel,w=e.id,O=e.InputLabelProps,k=e.inputProps,E=e.InputProps,j=e.inputRef,P=e.label,K=e.multiline,A=void 0!==K&&K,R=e.name,T=e.onBlur,L=e.onChange,D=e.onFocus,F=e.placeholder,I=e.required,M=void 0!==I&&I,G=e.rows,B=e.rowsMax,z=e.select,U=void 0!==z&&z,V=e.SelectProps,W=e.type,H=e.value,q=e.variant,$=void 0===q?"standard":q,Y=Object(d.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var X={};if("outlined"===$&&(O&&"undefined"!==typeof O.shrink&&(X.notched=O.shrink),P)){var J,Q=null!==(J=null===O||void 0===O?void 0:O.required)&&void 0!==J?J:M;X.label=n.createElement(n.Fragment,null,P,Q&&"\xa0*")}U&&(V&&V.native||(X.id=void 0),X["aria-describedby"]=void 0);var Z=x&&w?"".concat(w,"-helper-text"):void 0,ee=P&&w?"".concat(w,"-label"):void 0,te=tt[$],ae=n.createElement(te,Object(c.a)({"aria-describedby":Z,autoComplete:a,autoFocus:r,defaultValue:p,fullWidth:S,multiline:A,name:R,rows:G,rowsMax:B,type:W,value:H,id:w,inputRef:j,onBlur:T,onChange:L,onFocus:D,placeholder:F,inputProps:k},X,E));return n.createElement(N,Object(c.a)({className:Object(h.a)(s.root,l),disabled:m,error:b,fullWidth:S,hiddenLabel:_,ref:t,required:M,color:f,variant:$},Y),P&&n.createElement(Qe,Object(c.a)({htmlFor:w,id:ee},O),P),U?n.createElement(ue,Object(c.a)({"aria-describedby":Z,id:w,labelId:ee,value:H,input:ae},V),o):ae,x&&n.createElement(et,Object(c.a)({id:Z},y),x))})),nt=Object(f.a)({root:{}},{name:"MuiTextField"})(at),it=a(424),rt=a(371),ot=a.n(rt),st=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),lt=function(e){var t=e.text,a=e.idioma,n=e.oldPassState,r=e.passState,o=e.pass2State,s=e.onOldPassChange,l=e.onPassChange,c=e.onPass2Change,d=e.submitPass,h=st();return i.a.createElement($e.a,{component:"main",maxWidth:"xs"},i.a.createElement("div",{className:h.paper},i.a.createElement(y.a,{className:h.avatar},i.a.createElement(ot.a,{fontSize:"large"})),i.a.createElement(m.a,{component:"h1",variant:"h5"},t.title[a]),i.a.createElement("form",{className:h.form,noValidate:!0},i.a.createElement(nt,{size:"small",variant:"outlined",required:!0,fullWidth:!0,name:"password",label:t.oldpassword[a],type:"password",id:"oldpassword",autoComplete:"current-password",value:n.value,onChange:s,helperText:n.valid?"":t.invalidOldPass[a],error:!n.valid}),i.a.createElement(nt,{size:"small",variant:"outlined",required:!0,fullWidth:!0,name:"password",label:t.password[a],type:"password",id:"password",autoComplete:"current-password",value:r.value,onChange:l,helperText:r.valid?"":t.invalidPass[a],error:!r.valid}),i.a.createElement(nt,{size:"small",variant:"outlined",required:!0,fullWidth:!0,name:"password",label:t.repeatPassword[a],type:"password",id:"password",autoComplete:"current-password",value:o.value,onChange:c,helperText:o.valid?"":t.passNotEqual[a],error:!o.valid}),i.a.createElement(it.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:h.submit,onClick:d},t.changePass[a]))))},ct=a(372),dt=function(){var e=Object(o.useRecoilValue)(s.k),t=Object(We.a)(),a=Object(He.a)().postRequest,l=Object(qe.a)().openErrorNotification,c=Object(n.useState)({value:"",valid:!0}),d=Object(r.a)(c,2),h=d[0],u=d[1],f=Object(n.useState)({value:"",valid:!0}),p=Object(r.a)(f,2),g=p[0],m=p[1],v=Object(n.useState)({value:"",valid:!0}),b=Object(r.a)(v,2),y=b[0],C=b[1];return i.a.createElement(lt,{text:ct,idioma:e,oldPassState:h,passState:g,pass2State:y,onOldPassChange:function(e){var t=e.target.value;u(Object(Ve.a)(Object(Ve.a)({},g),{},{value:t,valid:!0}))},onPassChange:function(e){var t=e.target.value;m(Object(Ve.a)(Object(Ve.a)({},g),{},{value:t,valid:!0})),C(Object(Ve.a)(Object(Ve.a)({},y),{},{valid:!0}))},onPass2Change:function(e){var t=e.target.value;C(Object(Ve.a)(Object(Ve.a)({},y),{},{value:t,valid:!0}))},submitPass:function(n){n.preventDefault(),0===h.value.length?u(Object(Ve.a)(Object(Ve.a)({},h),{},{valid:!1})):g.value.length<8?m(Object(Ve.a)(Object(Ve.a)({},g),{},{valid:!1})):y.value!==g.value?C(Object(Ve.a)(Object(Ve.a)({},y),{},{valid:!1})):a({url:"/users/changePassword",bodyParams:{oldPassword:h.value,password:g.value},messageOnSuccess:ct.passChangeOk[e],doFnAfterSuccess:function(e){200===e.status&&t()},doFnAfterError:function(t){t.response?403===t.response.status?l(ct.passChange403Error[e]):l(ct.passChangeError[e]):l(ct.connError[e])}})}})},ht=function(e){return i.a.createElement(dt,e)},ut=a(373),ft=a.n(ut),pt=Object(l.a)((function(e){return{avatarEdit:{margin:e.spacing(2),marginLeft:e.spacing(3),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:""},avatar:{marginLeft:e.spacing(7),width:e.spacing(10),height:e.spacing(10)},button:{width:"100%",marginBottom:e.spacing(2)}}})),gt=function(e){var t=e.text,a=e.idioma,n=e.preview,r=e.setPreview,o=e.avatarRef,s=e.onAvatarChange,l=pt();return i.a.createElement($e.a,{component:"main",maxWidth:"xs"},i.a.createElement("div",{className:l.avatarEdit},i.a.createElement(ft.a,{width:120,height:100,onCrop:function(e){r(e)},onClose:function(){r(null)},closeIconColor:Ue.a[500],label:t.choosefile[a],ref:o}),i.a.createElement(y.a,{src:n,variant:"circle",className:l.avatar})),i.a.createElement(it.a,{variant:"contained",color:"primary",disabled:null===n,className:l.button,onClick:s},t.btnCambiar[a]))},mt=a(374),vt=function(e){var t=e.close,a=Object(o.useRecoilValue)(s.k),l=Object(He.a)().postRequest,c=Object(o.useSetRecoilState)(s.o),d=Object(n.useState)(null),h=Object(r.a)(d,2),u=h[0],f=h[1],p=Object(n.useRef)(null);return i.a.createElement(gt,{text:mt,idioma:a,preview:u,setPreview:f,avatarRef:p,onAvatarChange:function(){l({url:"/users/changeAvatar",bodyParams:{avatar:u},messageOnError:mt.onError[a],doFnAfterSuccess:function(e){200===e.status&&(t(),c(e.data.avatarUrl))}})}})},bt=function(e){return i.a.createElement(vt,e)},yt=a(208),Ct=[0,1,2,3,4,5,6,7,8,9,10],St=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseFloat(e);return"".concat(a/t).concat(String(e).replace(String(a),"")||"px")}var _t=n.forwardRef((function(e,t){var a=e.alignContent,i=void 0===a?"stretch":a,r=e.alignItems,o=void 0===r?"stretch":r,s=e.classes,l=e.className,u=e.component,f=void 0===u?"div":u,p=e.container,g=void 0!==p&&p,m=e.direction,v=void 0===m?"row":m,b=e.item,y=void 0!==b&&b,C=e.justify,S=void 0===C?"flex-start":C,x=e.lg,_=void 0!==x&&x,w=e.md,O=void 0!==w&&w,k=e.sm,E=void 0!==k&&k,j=e.spacing,P=void 0===j?0:j,K=e.wrap,N=void 0===K?"wrap":K,A=e.xl,R=void 0!==A&&A,T=e.xs,L=void 0!==T&&T,D=e.zeroMinWidth,F=void 0!==D&&D,I=Object(d.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),M=Object(h.a)(s.root,l,g&&[s.container,0!==P&&s["spacing-xs-".concat(String(P))]],y&&s.item,F&&s.zeroMinWidth,"row"!==v&&s["direction-xs-".concat(String(v))],"wrap"!==N&&s["wrap-xs-".concat(String(N))],"stretch"!==o&&s["align-items-xs-".concat(String(o))],"stretch"!==i&&s["align-content-xs-".concat(String(i))],"flex-start"!==S&&s["justify-xs-".concat(String(S))],!1!==L&&s["grid-xs-".concat(String(L))],!1!==E&&s["grid-sm-".concat(String(E))],!1!==O&&s["grid-md-".concat(String(O))],!1!==_&&s["grid-lg-".concat(String(_))],!1!==R&&s["grid-xl-".concat(String(R))]);return n.createElement(f,Object(c.a)({className:M,ref:t},I))})),wt=Object(f.a)((function(e){return Object(c.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var a={};return Ct.forEach((function(n){var i=e.spacing(n);0!==i&&(a["spacing-".concat(t,"-").concat(n)]={margin:"-".concat(xt(i,2)),width:"calc(100% + ".concat(xt(i),")"),"& > $item":{padding:xt(i,2)}})})),a}(e,"xs"),e.breakpoints.keys.reduce((function(t,a){return function(e,t,a){var n={};St.forEach((function(e){var t="grid-".concat(a,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");n[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else n[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===a?Object(c.a)(e,n):e[t.breakpoints.up(a)]=n}(t,e,a),t}),{}))}),{name:"MuiGrid"})(_t),Ot=a(375),kt=a.n(Ot),Et=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},link:{cursor:"pointer",textDecoration:"none",color:e.palette.text.secondary,"&:hover":{textDecoration:"underline"}},customSwitch:{alignSelf:"center"}}})),jt=Object(f.a)((function(e){return{switchBase:{color:ze.a[800],"&$checked":{color:Ue.a[500],"& + $track":{opacity:1,backgroundColor:e.palette.common.white,borderColor:e.palette.common.white}}},track:{opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(Se),Pt=function(e){var t=e.text,a=e.idioma,n=(e.isOpen,e.setClose,e.userData,e.lastName),r=e.nameState,o=e.nicknameState,s=e.emailState,l=e.gender,c=e.onNameChange,d=e.onEmailChange,h=e.onNickNameChange,u=e.onLastNameChange,f=e.onSwitchGender,p=e.onSave,g=(e.avatarSrc,Et());return i.a.createElement($e.a,{component:"main",maxWidth:"xs"},i.a.createElement(yt.a,null),i.a.createElement("div",{className:g.paper},i.a.createElement(y.a,{className:g.avatar},i.a.createElement(kt.a,{fontSize:"large"})),i.a.createElement(m.a,{component:"h1",variant:"h5"},t.title[a]),i.a.createElement("form",{className:g.form,noValidate:!0},i.a.createElement(wt,{container:!0,spacing:2},i.a.createElement(wt,{item:!0,xs:12,sm:6},i.a.createElement(nt,{size:"small",autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:t.firstName[a],autoFocus:!0,value:r.value,helperText:r.valid?"":t[r.msg][a],error:!r.valid,onChange:c})),i.a.createElement(wt,{item:!0,xs:12,sm:6},i.a.createElement(nt,{size:"small",variant:"outlined",fullWidth:!0,id:"lastName",label:t.lastName[a],name:"lastName",autoComplete:"lname",value:n.value,onChange:u})),i.a.createElement(wt,{item:!0,xs:12},i.a.createElement(nt,{size:"small",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:t.email[a],name:"email",autoComplete:"email",value:s.value,helperText:s.valid?"":t.invalidEmail[a],error:!s.valid,onChange:d})),i.a.createElement(wt,{item:!0,xs:12},i.a.createElement(nt,{size:"small",variant:"outlined",required:!0,fullWidth:!0,name:"nickname",label:t.nickname[a],id:"nickname",value:o.value,helperText:o.valid?"":t[o.msg][a],error:!o.valid,onChange:h})),i.a.createElement(m.a,{component:"div",style:{width:"100%"}},i.a.createElement(wt,{component:"label",container:!0,alignItems:"center",spacing:1,style:{width:"100%",margin:0,justifyContent:"center"}},i.a.createElement(wt,{item:!0},t.male[a]),i.a.createElement(wt,{item:!0},i.a.createElement(jt,{checked:l,onChange:f,name:"checkedC",className:g.customSwitch})),i.a.createElement(wt,{item:!0},t.female[a])))),i.a.createElement(it.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:g.submit,onClick:p},t.save[a]))))},Kt=a(376),Nt=function(e){var t=e.close,a=Object(o.useRecoilValue)(s.k),l=Object(o.useRecoilValue)(s.o),c=Object(o.useRecoilState)(s.l),d=Object(r.a)(c,2),h=d[0],u=d[1],f=Object(He.a)().postRequest,p=Object(qe.a)().openErrorNotification,g=Object(n.useState)({value:h.email,valid:!0}),m=Object(r.a)(g,2),v=m[0],b=m[1],y=Object(n.useState)({value:h.nickname,valid:!0}),C=Object(r.a)(y,2),S=C[0],x=C[1],_=Object(n.useState)({value:h.firstName,valid:!0}),w=Object(r.a)(_,2),O=w[0],k=w[1],E=Object(n.useState)({value:h.lastName,valid:!0}),j=Object(r.a)(E,2),P=j[0],K=j[1],N=Object(n.useState)("F"===h.gender),A=Object(r.a)(N,2),R=A[0],T=A[1];return i.a.createElement(Pt,{userData:h,text:Kt,idioma:a,lastName:P,nameState:O,nicknameState:S,emailState:v,gender:R,onNameChange:function(e){var t=e.target.value;k((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{value:t,valid:!0})}))},onEmailChange:function(e){var t=e.target.value;b((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{value:t,valid:!0})}))},onNickNameChange:function(e){var t=e.target.value;x((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{value:t,valid:!0})}))},onLastNameChange:function(e){var t=e.target.value;K((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{value:t,valid:!0})}))},onSwitchGender:function(e){e.target.checked;T((function(e){return!e}))},avatarSrc:l,onSave:function(e){if(e.preventDefault(),/^[a-zA-Z\']+$/.test(O.value))if(O.value.length<2)k(Object(Ve.a)(Object(Ve.a)({},O),{},{valid:!1,msg:"nameShort"}));else if(O.value.length>=20)k(Object(Ve.a)(Object(Ve.a)({},O),{},{valid:!1,msg:"nameLong"}));else if(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(v.value))if(0===S.value.length)x(Object(Ve.a)(Object(Ve.a)({},S),{},{valid:!1,msg:"nicknameNull"}));else{var n={firstName:O.value,lastName:P.value,nickname:S.value,email:v.value,gender:R?"F":"M"};f({url:"/users/editprofile",bodyParams:n,messageOnSuccess:Kt.onSaveSuccess[a],doFnAfterError:function(e){e.response?409===e.response.status?p(Kt.duplicated[a]):p(Kt.error[a]):p(Kt.connError[a])},doFnAfterSuccess:function(e){u(Object(Ve.a)(Object(Ve.a)({},h),n)),t()}})}else b(Object(Ve.a)(Object(Ve.a)({},v),{},{valid:!1}));else k(Object(Ve.a)(Object(Ve.a)({},O),{},{valid:!1,msg:"nameInvalid"}))}})},At=function(e){return i.a.createElement(Nt,e)},Rt=a(75),Tt=a(419),Lt=a(421),Dt=n.forwardRef((function(e,t){return n.createElement(m.a,Object(c.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))})),Ft=Object(f.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(Dt),It=a(423),Mt=function(e){var t=e.idioma,a=e.text,n=e.nameState,r=e.onNameChange,o=e.emailState,s=e.onEmailChange,l=e.onSend;return i.a.createElement($e.a,{maxWidth:"sm"},i.a.createElement(Tt.a,{id:"form-dialog-title"},a.winTitle[t]),i.a.createElement(Lt.a,null,i.a.createElement(Ft,null,a.text[t]),i.a.createElement(wt,{container:!0,spacing:2},i.a.createElement(wt,{item:!0,xs:12},i.a.createElement(nt,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:a.name[t],autoFocus:!0,value:n.value,helperText:n.valid?"":a[n.msg][t],error:!n.valid,onChange:r})),i.a.createElement(wt,{item:!0,xs:12},i.a.createElement(nt,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:a.email[t],name:"email",type:"email",autoComplete:"email",value:o.value,helperText:o.valid?"":a.invalidEmail[t],error:!o.valid,onChange:s})))),i.a.createElement(It.a,null,i.a.createElement(it.a,{onClick:l},a.send[t])))},Gt=a(377),Bt=function(e){var t=e.close,a=Object(o.useRecoilValue)(s.k),l=Object(He.a)().postRequest,c=Object(qe.a)().openErrorNotification,d=Object(o.useSetRecoilState)(Rt.d),h=Object(n.useState)({value:"",valid:!0}),u=Object(r.a)(h,2),f=u[0],p=u[1],g=Object(n.useState)({value:"",valid:!0}),m=Object(r.a)(g,2),v=m[0],b=m[1];return i.a.createElement(Mt,{text:Gt,idioma:a,nameState:v,onNameChange:function(e){var t=e.target.value;b((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{value:t,valid:!0})}))},emailState:f,onEmailChange:function(e){var t=e.target.value;p((function(e){return Object(Ve.a)(Object(Ve.a)({},e),{},{value:t,valid:!0})}))},onSend:function(e){e.preventDefault(),/^[a-zA-Z\']+$/.test(v.value)?v.value.length<2?b(Object(Ve.a)(Object(Ve.a)({},v),{},{valid:!1,msg:"nameShort"})):v.value.length>=20?b(Object(Ve.a)(Object(Ve.a)({},v),{},{valid:!1,msg:"nameLong"})):/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(f.value)?l({url:"/users/shareapp",bodyParams:{firstName:v.value,email:f.value,language:a,hostname:window.location.host},messageOnSuccess:Gt.sendSuccess[a],doFnAfterError:function(e){e.response?409===e.response.status&&c(Gt.emailExist[a]):c(Gt.connError[a])},doFnAfterSuccess:function(e){if(201===e.status){var a=e.data.friend;d({action:"add",payload:{friend:a}})}t()}}):p(Object(Ve.a)(Object(Ve.a)({},f),{},{valid:!1})):b(Object(Ve.a)(Object(Ve.a)({},v),{},{valid:!1,msg:"nameInvalid"}))}})},zt=function(e){return i.a.createElement(Bt,e)},Ut=a(79),Vt=a(304),Wt=a(91),Ht=Object(W.a)(n.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function qt(e,t){if(null==e)return e;var a=Math.round(e/t)*t;return Number(a.toFixed(function(e){var t=e.toString().split(".")[1];return t?t.length:0}(t)))}function $t(e){e.value;var t=Object(d.a)(e,["value"]);return n.createElement("span",t)}var Yt=n.createElement(Ht,{fontSize:"inherit"});function Xt(e){return"".concat(e," Star").concat(1!==e?"s":"")}var Jt=n.forwardRef((function(e,t){var a=e.classes,i=e.className,r=e.defaultValue,o=void 0===r?null:r,s=e.disabled,l=void 0!==s&&s,u=e.emptyIcon,f=e.emptyLabelText,p=void 0===f?"Empty":f,g=e.getLabelText,m=void 0===g?Xt:g,v=e.icon,b=void 0===v?Yt:v,y=e.IconContainerComponent,C=void 0===y?$t:y,S=e.max,x=void 0===S?5:S,_=e.name,w=e.onChange,O=e.onChangeActive,k=e.onMouseLeave,j=e.onMouseMove,P=e.precision,K=void 0===P?1:P,N=e.readOnly,A=void 0!==N&&N,R=e.size,L=void 0===R?"medium":R,D=e.value,F=Object(d.a)(e,["classes","className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"]),I=Object(Vt.a)(_),B=Object(G.a)({controlled:D,default:o,name:"Rating"}),z=Object(T.a)(B,2),U=z[0],V=z[1],W=qt(U,K),H=Object(ne.a)(),q=n.useState({hover:-1,focus:-1}),$=q[0],Y=$.hover,X=$.focus,J=q[1],Q=W;-1!==Y&&(Q=Y),-1!==X&&(Q=X);var Z=Object(Wt.a)(),ee=Z.isFocusVisible,te=Z.onBlurVisible,ae=Z.ref,ie=n.useState(!1),re=ie[0],oe=ie[1],se=n.useRef(),le=Object(M.a)(ae,se),ce=Object(M.a)(le,t),de=function(e){var t=parseFloat(e.target.value);V(t),w&&w(e,t)},he=function(e){0===e.clientX&&0===e.clientY||(J({hover:-1,focus:-1}),V(null),w&&parseFloat(e.target.value)===W&&w(e,null))},ue=function(e){ee(e)&&oe(!0);var t=parseFloat(e.target.value);J((function(e){return{hover:e.hover,focus:t}})),O&&X!==t&&O(e,t)},fe=function(e){if(-1===Y){!1!==re&&(oe(!1),te());J((function(e){return{hover:e.hover,focus:-1}})),O&&-1!==X&&O(e,-1)}},pe=function(e,t){var i="".concat(I,"-").concat(String(e.value).replace(".","-")),r=n.createElement(C,{value:e.value,className:Object(h.a)(a.icon,e.filled?a.iconFilled:a.iconEmpty,e.hover&&a.iconHover,e.focus&&a.iconFocus,e.active&&a.iconActive)},u&&!e.filled?u:b);return A?n.createElement("span",Object(c.a)({key:e.value},t),r):n.createElement(n.Fragment,{key:e.value},n.createElement("label",Object(c.a)({className:a.label,htmlFor:i},t),r,n.createElement("span",{className:a.visuallyhidden},m(e.value))),n.createElement("input",{onFocus:ue,onBlur:fe,onChange:de,onClick:he,disabled:l,value:e.value,id:i,type:"radio",name:I,checked:e.checked,className:a.visuallyhidden}))};return n.createElement("span",Object(c.a)({ref:ce,onMouseMove:function(e){j&&j(e);var t,a=se.current,n=a.getBoundingClientRect(),i=n.right,r=n.left,o=a.firstChild.getBoundingClientRect().width;t="rtl"===H.direction?(i-e.clientX)/(o*x):(e.clientX-r)/(o*x);var s=qt(x*t+K/2,K);s=function(e,t,a){return e<t?t:e>a?a:e}(s,K,x),J((function(e){return e.hover===s&&e.focus===s?e:{hover:s,focus:s}})),oe(!1),O&&Y!==s&&O(e,s)},onMouseLeave:function(e){k&&k(e);J({hover:-1,focus:-1}),O&&-1!==Y&&O(e,-1)},className:Object(h.a)(a.root,i,"medium"!==L&&a["size".concat(Object(E.a)(L))],l&&a.disabled,re&&a.focusVisible,A&&a.readOnly),role:A?"img":null,"aria-label":A?m(Q):null},F),Array.from(new Array(x)).map((function(e,t){var i=t+1;if(K<1){var r=Array.from(new Array(1/K));return n.createElement("span",{key:i,className:Object(h.a)(a.decimal,i===Math.ceil(Q)&&(-1!==Y||-1!==X)&&a.iconActive)},r.map((function(e,t){var a=qt(i-1+(t+1)*K,K);return pe({value:a,filled:a<=Q,hover:a<=Y,focus:a<=X,checked:a===W},{style:r.length-1===t?{}:{width:a===Q?"".concat((t+1)*K*100,"%"):"0%",overflow:"hidden",zIndex:1,position:"absolute"}})})))}return pe({value:i,active:i===Q&&(-1!==Y||-1!==X),filled:i<=Q,hover:i<=Y,focus:i<=X,checked:i===W})})),!A&&!l&&null==W&&n.createElement(n.Fragment,null,n.createElement("input",{value:"",id:"".concat(I,"-empty"),type:"radio",name:I,defaultChecked:!0,className:a.visuallyhidden}),n.createElement("label",{className:a.pristine,htmlFor:"".concat(I,"-empty")},n.createElement("span",{className:a.visuallyhidden},p))))})),Qt=Object(f.a)((function(e){return{root:{display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#ffb400",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent","&$disabled":{opacity:.5,pointerEvents:"none"},"&$focusVisible $iconActive":{outline:"1px solid #999"}},sizeSmall:{fontSize:e.typography.pxToRem(18)},sizeLarge:{fontSize:e.typography.pxToRem(30)},readOnly:{pointerEvents:"none"},disabled:{},focusVisible:{},visuallyhidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,color:"#000",overflow:"hidden",padding:0,position:"absolute",top:20,width:1},pristine:{"input:focus + &":{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}},label:{cursor:"inherit"},icon:{display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},iconEmpty:{color:e.palette.action.disabled},iconFilled:{},iconHover:{},iconFocus:{},iconActive:{transform:"scale(1.2)"},decimal:{position:"relative"}}}),{name:"MuiRating"})(Jt),Zt=a(32),ea=a(47);var ta=function(e){var t=function(t){var a=e(t);return t.css?Object(c.a)(Object(c.a)({},Object(ea.a)(a,e(Object(c.a)({theme:t.theme},t.css)))),function(e,t){var a={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(a[n]=e[n])})),a}(t.css,[e.filterProps])):a};return t.propTypes={},t.filterProps=["css"].concat(Object(Zt.a)(e.filterProps)),t};var aa=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=function(e){return t.reduce((function(t,a){var n=a(e);return n?Object(ea.a)(t,n):t}),{})};return n.propTypes={},n.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),n},na=a(88);function ia(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var ra=function(e){var t=e.prop,a=e.cssProperty,n=void 0===a?e.prop:a,i=e.themeKey,r=e.transform,o=function(e){if(null==e[t])return null;var a=e[t],o=ia(e.theme,i)||{};return Object(na.a)(e,a,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=ia(o,e)||e,r&&(t=r(t))),!1===n?t:Object(ae.a)({},n,t)}))};return o.propTypes={},o.filterProps=[t],o};function oa(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var sa=aa(ra({prop:"border",themeKey:"borders",transform:oa}),ra({prop:"borderTop",themeKey:"borders",transform:oa}),ra({prop:"borderRight",themeKey:"borders",transform:oa}),ra({prop:"borderBottom",themeKey:"borders",transform:oa}),ra({prop:"borderLeft",themeKey:"borders",transform:oa}),ra({prop:"borderColor",themeKey:"palette"}),ra({prop:"borderRadius",themeKey:"shape"})),la=aa(ra({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),ra({prop:"display"}),ra({prop:"overflow"}),ra({prop:"textOverflow"}),ra({prop:"visibility"}),ra({prop:"whiteSpace"})),ca=aa(ra({prop:"flexBasis"}),ra({prop:"flexDirection"}),ra({prop:"flexWrap"}),ra({prop:"justifyContent"}),ra({prop:"alignItems"}),ra({prop:"alignContent"}),ra({prop:"order"}),ra({prop:"flex"}),ra({prop:"flexGrow"}),ra({prop:"flexShrink"}),ra({prop:"alignSelf"}),ra({prop:"justifyItems"}),ra({prop:"justifySelf"})),da=aa(ra({prop:"gridGap"}),ra({prop:"gridColumnGap"}),ra({prop:"gridRowGap"}),ra({prop:"gridColumn"}),ra({prop:"gridRow"}),ra({prop:"gridAutoFlow"}),ra({prop:"gridAutoColumns"}),ra({prop:"gridAutoRows"}),ra({prop:"gridTemplateColumns"}),ra({prop:"gridTemplateRows"}),ra({prop:"gridTemplateAreas"}),ra({prop:"gridArea"})),ha=aa(ra({prop:"position"}),ra({prop:"zIndex",themeKey:"zIndex"}),ra({prop:"top"}),ra({prop:"right"}),ra({prop:"bottom"}),ra({prop:"left"})),ua=aa(ra({prop:"color",themeKey:"palette"}),ra({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),fa=ra({prop:"boxShadow",themeKey:"shadows"});function pa(e){return e<=1?"".concat(100*e,"%"):e}var ga=ra({prop:"width",transform:pa}),ma=ra({prop:"maxWidth",transform:pa}),va=ra({prop:"minWidth",transform:pa}),ba=ra({prop:"height",transform:pa}),ya=ra({prop:"maxHeight",transform:pa}),Ca=ra({prop:"minHeight",transform:pa}),Sa=(ra({prop:"size",cssProperty:"width",transform:pa}),ra({prop:"size",cssProperty:"height",transform:pa}),aa(ga,ma,va,ba,ya,Ca,ra({prop:"boxSizing"}))),xa=a(216),_a=aa(ra({prop:"fontFamily",themeKey:"typography"}),ra({prop:"fontSize",themeKey:"typography"}),ra({prop:"fontStyle",themeKey:"typography"}),ra({prop:"fontWeight",themeKey:"typography"}),ra({prop:"letterSpacing"}),ra({prop:"lineHeight"}),ra({prop:"textAlign"})),wa=a(33),Oa=a.n(wa),ka=a(175);function Ea(e,t){var a={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(a[n]=e[n])})),a}var ja=a(34),Pa=function(e){var t=function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.name,r=Object(d.a)(a,["name"]);var o,s=n,l="function"===typeof t?function(e){return{root:function(a){return t(Object(c.a)({theme:e},a))}}}:{root:t},u=Object(ka.a)(l,Object(c.a)({Component:e,name:n||e.displayName,classNamePrefix:s},r));t.filterProps&&(o=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var f=i.a.forwardRef((function(t,a){var n=t.children,r=t.className,s=t.clone,l=t.component,f=Object(d.a)(t,["children","className","clone","component"]),p=u(t),g=Object(h.a)(p.root,r),m=f;if(o&&(m=Ea(m,o)),s)return i.a.cloneElement(n,Object(c.a)({className:Object(h.a)(n.props.className,g)},m));if("function"===typeof n)return n(Object(c.a)({className:g},m));var v=l||e;return i.a.createElement(v,Object(c.a)({ref:a,className:g},m),n)}));return Oa()(f,e),f}}(e);return function(e,a){return t(e,Object(c.a)({defaultTheme:ja.a},a))}},Ka=ta(aa(sa,la,ca,da,ha,ua,fa,Sa,xa.b,_a)),Na=Pa("div")(Ka,{name:"MuiBox"}),Aa={0:"unrated",.5:"useless",1:"useless+",1.5:"poor",2:"poor+",2.5:"ok",3:"ok+",3.5:"good",4:"good+",4.5:"excellent",5:"excellent+"},Ra=Object(l.a)((function(e){return{ratingRow:{width:"250px",display:"flex",alignItems:"center",marginBottom:e.spacing(1)}}})),Ta=i.a.memo((function(e){var t=e.text,a=e.idioma,n=e.globalState,r=e.onChange,o=e.comentState,s=e.onCommentChange,l=e.onSave,c=Ra();return i.a.createElement($e.a,{maxWidth:"sm"},i.a.createElement(Tt.a,{id:"form-dialog-title"},t.title[a]),i.a.createElement(Lt.a,null,i.a.createElement(wt,{container:!0,spacing:2},i.a.createElement(wt,{item:!0,xs:6},i.a.createElement(La,{text:t,idioma:a,classes:c,globalState:n,onChange:r,type:"design"}),i.a.createElement(La,{text:t,idioma:a,classes:c,globalState:n,onChange:r,type:"performance"}),i.a.createElement(La,{text:t,idioma:a,classes:c,globalState:n,onChange:r,type:"usability"})),i.a.createElement(wt,{item:!0,xs:6,style:{display:"flex"}},i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement("div",null,i.a.createElement(m.a,{className:c.ratingType},t.lbAverage[a]),i.a.createElement("div",{className:c.ratingRow},i.a.createElement(Qt,{readOnly:!0,name:"hover-feedback",size:"large",value:n.overall,precision:.5}),null!==n.overall&&i.a.createElement(Na,{ml:2},t[Aa[n.overall]][a]))))),i.a.createElement(wt,{item:!0,xs:12},i.a.createElement(nt,{id:"outlined-textarea",label:t.comment[a],multiline:!0,variant:"outlined",fullWidth:!0,rowsMax:4,value:o,onChange:s})))),i.a.createElement(It.a,null,i.a.createElement(it.a,{onClick:l},t.save[a])))})),La=i.a.memo((function(e){var t=e.text,a=e.idioma,n=e.classes,o=e.globalState,s=e.onChange,l=e.type,c=i.a.useState(-1),d=Object(r.a)(c,2),h=d[0],u=d[1];return i.a.createElement(wt,{item:!0,xs:12},i.a.createElement(m.a,{className:n.ratingType},t[l][a]),i.a.createElement("div",{className:n.ratingRow},i.a.createElement(Qt,{value:o[l],precision:.5,onChange:function(e,t){return s(t,l)},onChangeActive:function(e,t){return u(t)}}),null!==o[l]&&i.a.createElement(Na,{ml:2},t[Aa[-1!==h?h:o[l]]][a])))})),Da=Ta,Fa=a(378),Ia=function(e){var t=e.close,a=Object(o.useRecoilValue)(s.k),l=Object(He.a)().postRequest,c=Object(n.useState)(""),d=Object(r.a)(c,2),h=d[0],u=d[1],f=Object(n.useState)({design:0,performance:0,usability:0,overall:0}),p=Object(r.a)(f,2),g=p[0],m=p[1],v=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n>0?1:0,r=n;if(e>0&&(r+=e,i++),t>0&&(r+=t,i++),a>0&&(r+=a,i++),i>0){var o=(r/=i)%.5;r-=o}return r},b=Object(n.useCallback)((function(e,t){m((function(a){var n,i=0,r=0,o=0;"design"!==t&&a.design>0&&(i=a.design),"performance"!==t&&a.performance>0&&(r=a.performance),"usability"!==t&&a.usability>0&&(o=a.usability);var s=v(i,r,o,e);return Object(Ve.a)(Object(Ve.a)({},a),{},(n={},Object(Ut.a)(n,t,e),Object(Ut.a)(n,"overall",s),n))}))}),[]);Object(n.useEffect)((function(){l({url:"/users/getUserFeedback",messageOnError:Fa.lbOnLoadError[a],doFnAfterSuccess:function(e){if(200===e.status){var t=e.data.rating,a={design:t.design,performance:t.performance,usability:t.usability,overall:v(t.design,t.performance,t.usability)};m(a),u(t.comment)}}})}),[]);return i.a.createElement(Da,{text:Fa,idioma:a,globalState:g,onChange:b,comentState:h,onCommentChange:function(e){var t=e.target.value;u(t)},onSave:function(){l({url:"/users/saveFeedback",bodyParams:{designRating:g.design,performaceRating:g.performance,usabilityRating:g.usability,comment:h},messageOnError:Fa.lbOnSaveError[a],messageOnSuccess:Fa.lbOnsaveOk[a],doFnAfterSuccess:function(e){t()}})}})},Ma=i.a.memo((function(e){return i.a.createElement(Ia,e)})),Ga=function(e){var t=e.idioma,a=e.text,n=e.comentState,r=e.onCommentChange,o=e.onSend;return i.a.createElement($e.a,{maxWidth:"sm"},i.a.createElement(Tt.a,{id:"form-dialog-title"},a.winTitle[t]),i.a.createElement(Lt.a,null,i.a.createElement(Ft,null,a.text[t]),i.a.createElement(wt,{container:!0,spacing:2},i.a.createElement(wt,{item:!0,xs:12},i.a.createElement(nt,{id:"outlined-textarea",label:a.report[t],multiline:!0,variant:"outlined",fullWidth:!0,rowsMax:4,rows:4,value:n,onChange:r})))),i.a.createElement(It.a,null,i.a.createElement(it.a,{onClick:o},a.send[t])))},Ba=a(379),za=function(e){var t=e.close,a=Object(o.useRecoilValue)(s.k),l=Object(He.a)().postRequest,c=Object(n.useState)(""),d=Object(r.a)(c,2),h=d[0],u=d[1];return i.a.createElement(Ga,{text:Ba,idioma:a,comentState:h,onCommentChange:function(e){var t=e.target.value;u(t)},onSend:function(){l({url:"/bugs/saveBugReport",bodyParams:{description:h},messageOnError:Ba.sendError[a],messageOnSuccess:Ba.sendOk[a],doFnAfterSuccess:function(e){t()}})}})},Ua=function(e){return i.a.createElement(za,e)},Va=Object(l.a)((function(e){return{root:{maxWidth:345},avatar:{width:e.spacing(7),height:e.spacing(7)},cardHeaderAction:{alignSelf:"flex-end"},cardHeaderContent:{overflowX:"hidden",marginRight:e.spacing(2)},langSelect:{fontSize:"0.9em",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em"},avatarMan:{color:e.palette.getContrastText(ze.a[400]),backgroundColor:ze.a[400]},avatarWoman:{color:e.palette.getContrastText(Ue.a[300]),backgroundColor:Ue.a[300]}}})),Wa=Object(l.a)((function(e){return{iconButton:{backgroundColor:e.palette.background.default,boxShadow:"0 0 5px ".concat(e.palette.action.disabled),"&:hover":{backgroundColor:e.palette.background.default}}}})),Ha=function(e){var t=e.onClick,a=Wa();return i.a.createElement(S.a,{id:"cameraIconButton",size:"small",className:a.iconButton,onClick:t},i.a.createElement(Ee.a,{fontSize:"small"}))},qa=function(e){var t=e.text,a=e.idioma,n=e.avatarUrl,r=e.userData,o=e.logout,s=e.changeIdioma,l=e.darkMode,c=e.changeTheme,d=e.changePass,h=e.setChangePass,u=e.changeAvatar,f=e.setChangeAvatar,p=e.editProfile,m=e.setChangeProfile,v=e.shareApp,k=e.setShareApp,E=e.feedback,j=e.setFeedback,P=e.bugreport,K=e.setBugreport,R=e.open,T=e.anchorEl,L=e.handleClose,D=e.allowedOSNot,F=e.changeNotifSwith,I=Va();return i.a.createElement(_e.a,{open:R,anchorEl:T,onClose:L,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},i.a.createElement(g,{className:I.root},i.a.createElement(b,{classes:{action:I.cardHeaderAction,content:I.cardHeaderContent},avatar:i.a.createElement(C.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:i.a.createElement(Ha,{onClick:f})},i.a.createElement(y.a,{"aria-label":"recipe",className:"".concat(I.avatar," ").concat("M"===r.gender?I.avatarMan:I.avatarWoman),src:n})),action:i.a.createElement(pe.a,{title:t.logout[a]},i.a.createElement(S.a,{onClick:o,id:"idBtnLogout"},i.a.createElement(Me.a,null))),title:r.nickname,subheader:r.email}),i.a.createElement(x.a,null),i.a.createElement(_.a,null,i.a.createElement("div",{id:"profileMenuOptions"},i.a.createElement(w.a,{button:!0,onClick:m},i.a.createElement(O.a,null,i.a.createElement(Oe.a,null)),i.a.createElement(A.a,{primary:t.edit[a],primaryTypographyProps:{style:{fontSize:"0.9em"}}})),i.a.createElement(w.a,null,i.a.createElement(O.a,null,i.a.createElement(Le.a,null)),i.a.createElement(N,null,i.a.createElement(ue,{value:a,onChange:s,displayEmpty:!0,className:I.langSelect,inputProps:{"aria-label":"Without label"}},i.a.createElement(fe.a,{value:"en"},"English"),i.a.createElement(fe.a,{value:"es"},"Espa\xf1ol")))),i.a.createElement(w.a,null,i.a.createElement(O.a,null,i.a.createElement(Fe.a,null)),i.a.createElement(me,{control:i.a.createElement(Se,{checked:l,onChange:c,color:"primary"}),label:t.darkMode[a]})),i.a.createElement(w.a,null,i.a.createElement(O.a,null,i.a.createElement(Be.a,null)),i.a.createElement(me,{control:i.a.createElement(Se,{checked:D,onChange:F,color:"primary"}),label:t.allowOSNotifications[a]}))),i.a.createElement(x.a,null),i.a.createElement("div",{id:"profileOtherMenuOptions"},i.a.createElement(w.a,{button:!0,onClick:k},i.a.createElement(O.a,null,i.a.createElement(Pe.a,null)),i.a.createElement(A.a,{primary:t.share[a],primaryTypographyProps:{style:{fontSize:"0.9em"}},secondary:t.shareDesc[a],secondaryTypographyProps:{style:{fontSize:"0.8em"}}})),i.a.createElement(w.a,{button:!0,onClick:j},i.a.createElement(O.a,null,i.a.createElement(Re.a,null)),i.a.createElement(A.a,{primary:t.feedback[a],primaryTypographyProps:{style:{fontSize:"0.9em"}},secondary:t.feedbackDesc[a],secondaryTypographyProps:{style:{fontSize:"0.8em"}}})),i.a.createElement(w.a,{button:!0,onClick:K},i.a.createElement(O.a,null,i.a.createElement(Ne.a,null)),i.a.createElement(A.a,{primary:t.report[a],primaryTypographyProps:{style:{fontSize:"0.9em"}},secondary:t.reportDesc[a],secondaryTypographyProps:{style:{fontSize:"0.8em"}}}))))),i.a.createElement(xe.a,{open:d,onClose:h},i.a.createElement(ht,null)),i.a.createElement(xe.a,{open:u,onClose:f},i.a.createElement(bt,{close:f})),i.a.createElement(xe.a,{open:p,onClose:m},i.a.createElement(At,{close:m})),i.a.createElement(xe.a,{open:v,onClose:k},i.a.createElement(zt,{close:k})),i.a.createElement(xe.a,{open:E,onClose:j},i.a.createElement(Ma,{close:j})),i.a.createElement(xe.a,{open:P,onClose:K},i.a.createElement(Ua,{close:K})))},$a=a(389),Ya=a(224),Xa=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=a[0],c=a[1],d=Object(n.useState)(!1),h=Object(r.a)(d,2),u=h[0],f=h[1],p=Object(n.useState)(!1),g=Object(r.a)(p,2),m=g[0],v=g[1],b=Object(n.useState)(!1),y=Object(r.a)(b,2),C=y[0],S=y[1],x=Object(n.useState)(!1),_=Object(r.a)(x,2),w=_[0],O=_[1],k=Object(n.useState)(!1),E=Object(r.a)(k,2),j=E[0],P=E[1],K=Object(o.useRecoilState)(s.k),N=Object(r.a)(K,2),A=N[0],R=N[1],T=Object(o.useRecoilState)(s.e),L=Object(r.a)(T,2),D=L[0],F=L[1],I=Object(o.useRecoilValue)(s.l),M=Object(o.useRecoilValue)(s.o),G=Object(We.a)(),B=Object(He.a)().postRequest,z=Object(qe.a)().openWarningNotification,U=Object(n.useState)(Ya.a.allowedNotifications()),V=Object(r.a)(U,2),W=V[0],H=V[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(qa,Object.assign({text:$a,idioma:A,avatarUrl:M,userData:I,logout:G,changeIdioma:function(e){var t=e.target.value;R(t),B({url:"/users/changeUserLanguage",bodyParams:{lang:t}})},darkMode:D,changeTheme:function(){localStorage.setItem("darkMode",!D),F((function(e){return!e}))},changePass:l,setChangePass:function(){c((function(e){return!e}))},changeAvatar:u,setChangeAvatar:function(){f((function(e){return!e}))},editProfile:m,setChangeProfile:function(){v((function(e){return!e}))},shareApp:C,setShareApp:function(){S((function(e){return!e}))},feedback:w,setFeedback:function(){O((function(e){return!e}))},bugreport:j,setBugreport:function(){P((function(e){return!e}))}},e,{allowedOSNot:W,changeNotifSwith:function(){Ya.a.allowedNotifications()?(Ya.a.denyPermission(),H(!1)):"denied"===Ya.a.permissionType()?z($a.shouldAllowNotInBrowser[A]):Ya.a.askNotificationPermission((function(e){Ya.a.allowedNotifications()&&H(!0)}))}})))};t.default=function(e){return i.a.createElement(Xa,e)}}}]);
//# sourceMappingURL=8.26cbc6c2.chunk.js.map